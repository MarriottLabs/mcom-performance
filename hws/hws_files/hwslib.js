
(function($){jQuery.fn.makeacolumnlists=function(settings){settings=jQuery.extend({cols:2,colWidth:'0',equalHeight:false,startN:1},settings);if(jQuery('> li',this)){this.each(function(y){var y=jQuery('.li_container').size(),height=0,maxHeight=0,t=jQuery(this),classN=t.attr('class'),listsize=jQuery('> li',this).size(),percol=Math.ceil(listsize/settings.cols),contW=t.width(),bl=(isNaN(parseInt(t.css('borderLeftWidth'),10))?0:parseInt(t.css('borderLeftWidth'),10)),br=(isNaN(parseInt(t.css('borderRightWidth'),10))?0:parseInt(t.css('borderRightWidth'),10)),pl=parseInt(t.css('paddingLeft'),10),pr=parseInt(t.css('paddingRight'),10),ml=parseInt(t.css('marginLeft'),10),mr=parseInt(t.css('marginRight'),10),col_Width=Math.floor((contW-(settings.cols-1)*(bl+br+pl+pr+ml+mr))/settings.cols);if(settings.colWidth){col_Width=settings.colWidth;}
var colnum=1,percol2=percol;jQuery(this).addClass('li_cont1').wrap('<div id="li_container'+(++y)+'" class="li_container"></div>');for(var i=0;i<=listsize;i++){if(i>=percol2){percol2+=percol;colnum++;}
var eq=jQuery('> li:eq('+i+')',this);eq.addClass('li_col'+colnum);if(jQuery(this).is('ol')){eq.attr('value',''+(i+settings.startN))+'';}}
jQuery(this).css({float:'left',width:''+col_Width+''});for(colnum=2;colnum<=settings.cols;colnum++){if(jQuery(this).is('ol')){jQuery('li.li_col'+colnum,this).appendTo('#li_container'+y).wrapAll('<ol class="li_cont'+colnum+' '+classN+'" style="float:left; width: '+col_Width+';"></ol>');}else{jQuery('li.li_col'+colnum,this).appendTo('#li_container'+y).wrapAll('<ul class="li_cont'+colnum+' '+classN+'" style="float:left; width: '+col_Width+';"></ul>');}}
if(settings.equalHeight=='li'){for(colnum=1;colnum<=settings.cols;colnum++){jQuery('#li_container'+y+' li').each(function(){var e=jQuery(this);var border_top=(isNaN(parseInt(e.css('borderTopWidth'),10))?0:parseInt(e.css('borderTopWidth'),10));var border_bottom=(isNaN(parseInt(e.css('borderBottomWidth'),10))?0:parseInt(e.css('borderBottomWidth'),10));height=e.height()+parseInt(e.css('paddingTop'),10)+parseInt(e.css('paddingBottom'),10)+border_top+border_bottom;maxHeight=(height>maxHeight)?height:maxHeight;});}
for(colnum=1;colnum<=settings.cols;colnum++){var eh=jQuery('#li_container'+y+' li');var border_top=(isNaN(parseInt(eh.css('borderTopWidth'),10))?0:parseInt(eh.css('borderTopWidth'),10));var border_bottom=(isNaN(parseInt(eh.css('borderBottomWidth'),10))?0:parseInt(eh.css('borderBottomWidth'),10));mh=maxHeight-(parseInt(eh.css('paddingTop'),10)+parseInt(eh.css('paddingBottom'),10)+border_top+border_bottom);eh.height(mh);}}else
if(settings.equalHeight=='ul'||settings.equalHeight=='ol'){for(colnum=1;colnum<=settings.cols;colnum++){jQuery('#li_container'+y+' .li_cont'+colnum).each(function(){var e=jQuery(this);var border_top=(isNaN(parseInt(e.css('borderTopWidth'),10))?0:parseInt(e.css('borderTopWidth'),10));var border_bottom=(isNaN(parseInt(e.css('borderBottomWidth'),10))?0:parseInt(e.css('borderBottomWidth'),10));height=e.height()+parseInt(e.css('paddingTop'),10)+parseInt(e.css('paddingBottom'),10)+border_top+border_bottom;maxHeight=(height>maxHeight)?height:maxHeight;});}
for(colnum=1;colnum<=settings.cols;colnum++){var eh=jQuery('#li_container'+y+' .li_cont'+colnum);var border_top=(isNaN(parseInt(eh.css('borderTopWidth'),10))?0:parseInt(eh.css('borderTopWidth'),10));var border_bottom=(isNaN(parseInt(eh.css('borderBottomWidth'),10))?0:parseInt(eh.css('borderBottomWidth'),10));mh=maxHeight-(parseInt(eh.css('paddingTop'),10)+parseInt(eh.css('paddingBottom'),10)+border_top+border_bottom);eh.height(mh);}}
jQuery('#li_container'+y).append('<div style="clear:both; overflow:hidden; height:0px;"></div>');});}};jQuery.fn.uncolumnlists=function(){jQuery('.li_cont1').each(function(i){var onecolSize=jQuery('#li_container'+(++i)+' .li_cont1 > li').size();if(jQuery('#li_container'+i+' .li_cont1').is('ul')){jQuery('#li_container'+i+' > ul > li').appendTo('#li_container'+i+' ul:first');for(var j=1;j<=onecolSize;j++){jQuery('#li_container'+i+' ul:first li').removeAttr('class').removeAttr('style');}
jQuery('#li_container'+i+' ul:first').removeAttr('style').removeClass('li_cont1').insertBefore('#li_container'+i);}else{jQuery('#li_container'+i+' > ol > li').appendTo('#li_container'+i+' ol:first');for(var j=1;j<=onecolSize;j++){jQuery('#li_container'+i+' ol:first li').removeAttr('class').removeAttr('style');}
jQuery('#li_container'+i+' ol:first').removeAttr('style').removeClass('li_cont1').insertBefore('#li_container'+i);}
jQuery('#li_container'+i).remove();});};})(jQuery);$(function(){var searchFormInitialHide=$('.js-searchFormInitialHide');var searchFormInitialShow=$('.js-searchFormInitialShow');searchFormInitialHide.hide();searchFormInitialShow.show();var roomFormExpanded="N";$('#hws-fromDate, #hws-toDate').focus(function(){searchFormInitialHide.show();searchFormInitialShow.hide();roomFormExpanded="Y";$('.js-searchFormCollapse').removeClass('is-hidden');});$('#my-edit-search').on('click',function(){searchFormInitialHide.show();searchFormInitialShow.hide();roomFormExpanded="Y";$('.js-searchFormCollapse').removeClass('is-hidden');});$('.js-searchFormCollapse').on('click',function(e){e.preventDefault();searchFormInitialHide.not('ul').hide();searchFormInitialShow.not('ul').show();$('#hws-reservation-module .res-toggle-link').not('.collapsed').trigger('click');$('.js-searchFormCollapse').addClass('is-hidden');roomFormExpanded="N";});hwsSearchModule.init()
var hwsResTimeOutErrorMsg=$('#hws-timeout-error');if(hwsResTimeOutErrorMsg.length>0){var error=hwsResTimeOutErrorMsg.data('options');hwsResTimeOutErrorMsg.remove();var buttons=[{label:error.buttonlabel,callback:function(){$(this).dialog("close");}}];var hotelTitleArea=$('#hotel-title-area');var xAxis=hotelTitleArea.position().left;var yAxis=hotelTitleArea.position().top+hotelTitleArea.height();$('#modal-box').miLightboxes({sizeWidth:365,sizeHeight:180,headerFormat:2,lightBoxClass:'error-alert',tOverride:error.title,buttonsArray:buttons,position:[xAxis,yAxis],content:error.content});}
$('.res-toggle-link').click(function(e){$(this).next('.res-toggle-container').toggle('',function(){$(this).prev('.res-toggle-link').toggleClass('collapsed');});e.preventDefault();});$('.res-toggle-container').not(':has(\'input[name=clusterCode][value!=\'none\']:checked\')').prev('.res-toggle-link').click();$('#hws-reservation-module').find('.radio-secondary-input').click(function(){$(this).closest('li').find('.radio').attr('checked',true);$('#hws-reservation-module').find('input[name="clusterCode"]').not(":checked").closest('li').find('.radio-secondary-input').val('');});$('#hws-reservation-module').find('.use-rewards-points').click(function(){if($(this).is(':checked')){$('#hws-reservation-module').find('#none').attr('checked',true);$('#hws-reservation-module').find('.radio-secondary-input').val('');}});$('#hws-reservation-module').find('#flexible-date-search').click(function(){var incentiveCode=$('#hws-reservation-module').find('#incentive-code');var groupCode=$('#hws-reservation-module').find('#group');var nearbyLoc=$('#hws-reservation-module').find('#nearby-loc');if($(this).is(':checked')&&groupCode.is(':checked')||$(this).is(':checked')&&incentiveCode.is(':checked')){$('#hws-reservation-module').find('#none').attr('checked',true);$('#hws-reservation-module').find('.radio-secondary-input').val('');}
if(nearbyLoc.is(':checked')){$(nearbyLoc).attr('checked',false);}});$('#hws-reservation-module').find('#nearby-loc').click(function(){var flexDate=$('#hws-reservation-module').find('#flexible-date-search');if(flexDate.is(':checked')){var form=this.form;flexDate.attr('checked',false);$(form).find(".target").toggleClass("hidden");synchToDateToLos(this.form);}});$('#hws-reservation-module').find('#redeem-rewards-link').click(function(){var useRewardsCheckbox=$(this).closest('fieldset').find(':checkbox');if(!useRewardsCheckbox.is(':checked')){useRewardsCheckbox.attr('checked',true);$('#hws-reservation-module').find('#none').attr('checked',true);$('#hws-reservation-module').find('.radio-secondary-input').val('');}});$('#hws-reservation-module').find('input[name="clusterCode"]').click(function(){if($(this).val()!='none'){$('#hws-reservation-module').find('.use-rewards-points').attr('checked',false);}
if($(this).val()=='group'||$(this).val()=='INT'){$('#hws-reservation-module').find('#flexible-date-search').attr('checked',false);}
$('#hws-reservation-module').find('input[name="clusterCode"]').not(":checked").closest('li').find('.radio-secondary-input').val('');$(this).closest('li').find('.radio-secondary-input').focus();});$('#hws-reservation-module').find('.pop-over').click(function(e){e.preventDefault();var c=$(this).attr('href');$('#modal-box').miLightboxes({content:c,sizeWidth:760,sizeHeight:380,external:true});return false;});$('.deal-section').find('.toggle-link ').click(function(){$(this).closest('.toggle').find('.toggle-container').find('.deals-more-options').click(function(event){event.preventDefault();var objForm=$(this).closest('form');var fromDate=$(objForm).find('.check-in').val();var toDate=$(objForm).find('.check-out').val();var numberOfRooms=$(objForm).find('#room-num').val();var numberOfGuests=$(objForm).find('#guests-num').val();var marriottRewardsNumber=$(objForm).find('#marriottRewardsNumber').val();var url=$(this).attr('href')+"&fromDate="+fromDate+"&toDate="+toDate+"&numberOfGuests="+numberOfGuests+"&numberOfRooms="+numberOfRooms+"&marriottRewardsNumber="+marriottRewardsNumber;window.location.href=url;});});var editValue=$('#reservations-summary-container #edit-value');$("input:radio[name='form-select']").click(function(){if(editValue.length>0&&editValue.val().match("true")){$('#reservations-summary-container #reservations-form').hide();$('#reservations-summary-container #reservations-summary').show();}
if($(this).val()!="rooms"){$('#reserve-by-phone').hide();$('#contact-us').hide();$('#hotel-directory-link').hide();$('#reservations-summary-container #reservations-summary').hide();searchFormInitialShow.hide();$('.js-searchFormCollapse').hide();$('.book-right-holder').hide();}else{$('#reserve-by-phone').show();$('#contact-us').show();$('#hotel-directory-link').show();$('#reservations-summary-container #reservations-summary').show();searchFormInitialShow.show();if(roomFormExpanded=="Y"){$('.book-right-holder').show();$('.book-right-holder.js-searchFormInitialShow').hide();$('.js-searchFormCollapse').show();}}});if(editValue.length>0&&editValue.val().match("true")){var myResForm=$('#reservations-summary-container #reservations-form');myResForm.hide();$('#my-edit-search').click(function(event){event.preventDefault();$('#reservations-summary-container #reservations-summary').hide();$('#summaryTabLabelId').html(summry);myResForm.show();});}
if($('#travel-packages-form').length>0){travelPackages.initialize();}
var setDateFlag=false;travelDates={fromDate:$("#travel-fromDate"),toDate:$("#travel-toDate")}
function setDateForVBM(option){var jqMinDate=$(':hidden[name=minDate]');var minDate='';var newMinDate='';travelDates.fromDate.miDatePicker("alterDateRange",{"minDate":"+3d"});travelDates.toDate.miDatePicker("alterDateRange",{"minDate":"+4d"});if((option=="flight"||option=="car")&&(!setDateFlag)){minDate=new Date(jqMinDate.val());minDate.setDate(minDate.getDate()+3);minDate.setMonth(minDate.getMonth()+1);setDateFlag=true;newMinDate=minDate.getMonth()+"/"+minDate.getDate()+"/"
+minDate.getFullYear();$(':hidden[name=minDate]').val(newMinDate);}
else if((option!="car")&&(option!="flight")){minDate=new Date();minDate.setMonth(minDate.getMonth()+1);setDateFlag=false;newMinDate=minDate.getMonth()+"/"+minDate.getDate()+"/"
+minDate.getFullYear();$(':hidden[name=minDate]').val(newMinDate);}}
var formSelect=formSelect||{forms:$("input:radio"),initialize:function(){var reservationProgress=$('#reservations-summary').length;$("input:radio[name='form-select']:first").attr('checked',true);$('#travel-packages-container').hide();$('input[name="form-select"]').change(function(){var n=$('input[name="form-select"]:checked').val();travelPackages.selectPackage(n);switch(n)
{case"flight":$('#reservations-form').hide();$('#travel-package-options').hide();$('#travel-packages-container').show();setDateForVBM(n);break;case"car":$('#reservations-form').hide();$('#travel-package-options').hide();$('#travel-packages-container').show();setDateForVBM(n);break;default:setDateForVBM(n);if(reservationProgress<1){$('#reservations-form').show();}
$('#travel-packages-container').hide();}});}}
formSelect.initialize();});$(function(){$('form.hws-reservations-form').submit(function(){var objForm=this;var objClusterCode=$(objForm).find('input[name="clusterCode"]');if(objClusterCode.length){var validationMessages=$(objForm).data('options');var groupRatesMessage=validationMessages.groupMessage;var useRewardsPtsMessage=validationMessages.useRewardsPtsMessage;var groupCodeMsg=validationMessages.groupCodeMsg;var corpCodeMsg=validationMessages.corpCodeMsg;var awardTypeMsg=validationMessages.awardTypeMsg;var redeemAwardMoreRoomMsg=validationMessages.redeemAwardMoreRoomsMsg;var redeemAwardOneRoomMsg=validationMessages.redeemAwardOneRoomMsg;var flexibleDatesMoreRoomMsg=validationMessages.flexibleDatesMoreRoomMsg;var noneRadioButton=$(objForm).find('#none');var roomNumber=$(objForm).find('#room-num');var corprateCode=$(objForm).find('#corp-code');var groupCode=$(objForm).find('#group-code');var awardNumber=$(objForm).find('#award-number');var specialTextFieldCollection=corprateCode.add(groupCode).add(awardNumber);var groupRadio=$(objForm).find('#group');var corpRadio=$(objForm).find('#corp');var incentiveRadio=$(objForm).find('#incentive-code');var useRewardCheckbox=$(objForm).find('#use-rewards-points');var selectedSpecialRate=$(objClusterCode).filter(":checked").val();var checkIn=$(objForm).find('.check-in');var checkOut=$(objForm).find('.check-out');var flexibleDateSearchCheckbox=$(objForm).find(':input[name=flexibleDateSearch]:checked').val();if($(roomNumber).length&&$(roomNumber).val()>=4&&(selectedSpecialRate!="none"&&selectedSpecialRate!="INT")){var choice=confirm(groupRatesMessage);if(choice){$(specialTextFieldCollection).each(function(){$(this).val('');});noneRadioButton.attr('checked',true);}
return choice;}
if(groupRadio.is(':checked')&&(!$.trim(groupCode.val())||groupCode.val().length<7)){alert(groupCodeMsg);return false;}
if(corpRadio.is(':checked')&&(!$.trim(corprateCode.val())||corprateCode.val().length<3)){alert(corpCodeMsg);return false;}
if(incentiveRadio.is(':checked')&&!$.trim(awardNumber.val())){var choice=alert(awardTypeMsg);if(choice){$(specialTextFieldCollection).each(function(){$(this).val('');});noneRadioButton.attr('checked',true);}
return false;}
if(incentiveRadio.is(':checked')&&$.trim(awardNumber.val())&&roomNumber.val()>=4){var choice=confirm(redeemAwardMoreRoomMsg);if(choice){$(specialTextFieldCollection).each(function(){$(this).val('');});noneRadioButton.attr('checked',true);}
return choice;}else if(incentiveRadio.is(':checked')&&$.trim(awardNumber.val())&&roomNumber.val()>1){alert(redeemAwardOneRoomMsg);return false;}
if(useRewardCheckbox.attr('checked')&&(roomNumber.val()>=4)){var choice=confirm(useRewardsPtsMessage);if(choice){useRewardCheckbox.attr('checked',false);noneRadioButton.attr('checked',true);}
return choice;}
if(flexibleDateSearchCheckbox=='true'&&$(roomNumber).length&&$(roomNumber).val()>=4){alert(flexibleDatesMoreRoomMsg);return false;}
return dates.validateDates('availability',checkIn.attr('id'),checkOut.attr('id'),'');}
return true;});});$(function(){$('#m-searchInlineHomepage .button-submit,#guest-rooms-list .button-submit').click(function(e){e.preventDefault();var guestRoomForm=$('.guest-room-form');if($(this).hasClass('guest-rooms-resp-submit')){guestRoomForm=$(this).parents('form');}
var roomTypeCode=$(this).siblings(':input[name=roomTypeCode]').val();var checkIn=guestRoomForm.find('.check-in').attr('id');var checkOut=guestRoomForm.find('.check-out').attr('id');var isValidDates=dates.validateDates('availability',checkIn,checkOut,'');if(!isValidDates){return false;}
guestRoomForm.find(':input[name=roomTypeCode]').val(roomTypeCode);guestRoomForm.submit();});});$(function(){$('form.hws-reservations-form').find('h3.res-toggle-link').attr('id','special-rates-form-control');$('#hotel-directory-link > a').attr('id','automation-hotel-directory-link ');$('#reservations-summary').find('h3.res-toggle-link').attr('id','res-detail-panel-control');$('#reserve-by-phone > p.res-toggle-link').attr('id','reserve-by-phone-panel-control');$('#contact-us > p.res-toggle-link').attr('id','contact-us-panel-control');});var travelPackages=travelPackages||{travelPackageForm:$("form#travel-packages-form"),travelingFrom:"",packageSelected:"",initialize:function(){var travePackageTab=$('#travel-packages-tab a');travePackageTab.attr('href','#travel-packages-container').attr('target','');travelPackages.travelPackageForm.find("input[name=packageOption]:first").attr('checked',false);var currentSelectedPackage=travelPackages.travelPackageForm.find("input[name=packageOption]:checked");if(currentSelectedPackage.length>0){currentSelectedPackage=currentSelectedPackage.val();}else{var firstPackage=travelPackages.travelPackageForm.find("input[name=packageOption]:first");firstPackage.prop("checked","checked");currentSelectedPackage=firstPackage.val();}
travelPackages.selectPackage(currentSelectedPackage);travelPackages.travelPackageForm.find("input[name=packageOption]").on("change",function(){travelPackages.selectPackage($(this).val());$("input:radio[name='form-select']:first").attr('checked',false);});travelPackages.travelPackageForm.find("input#travel-package-origin").on("change",function(){if(travelPackages.packageSelected=="flight"){travelPackages.travelingFrom=$(this).val();}});travelPackages.travelPackageForm.find(".travel-package-location").each(function(){var prePopValue=$(this).val();$(this).enableAutoComplete();if(prePopValue!=""){$(this).one("focus",function(){$(this).autocomplete("search",prePopValue);});}});var children=travelPackages.travelPackageForm.find("#number-children");travelPackages.showChildren(children.val());children.on("change",function(){travelPackages.showChildren($(this).val());});travelPackages.travelPackageForm.find(".child").on("change",function(){travelPackages.handleChildAge($(this));});travelPackages.travelPackageForm.find(".hour-selection").each(function(){if(travelPackages.packageSelected=="car"){travelPackages.travelPackageForm.find("input#travel-"+$(this).attr("id")).val($(this).val());}}).on("change",function(){if(travelPackages.packageSelected=="car"){travelPackages.travelPackageForm.find("input#travel-"+$(this).attr("id")).val($(this).val());}});travelPackages.travelPackageForm.on("submit",function(){return travelPackages.validate();});},selectPackage:function(package){if(package.indexOf("flight")>-1){travelPackages.packageSelected="flight";travelPackages.showRoomFlightPackage();}else if(package.indexOf("car")>-1){travelPackages.packageSelected="car";travelPackages.showRoomCarPackage();}},showRoomFlightPackage:function(){travelPackages.travelPackageForm.find(".car-option").hide();travelPackages.travelPackageForm.find(".flight-option").show();travelPackages.travelPackageForm.find(".child-traveler").removeClass("car-option-child-traveler").each(function(){travelPackages.handleChildAge($(this).children(".child:first"));});travelPackages.travelPackageForm.children("input[name=air1]").val("true");travelPackages.travelPackageForm.children("input[name=car1]").val("false");travelPackages.travelPackageForm.children("input[name=time1]").val("0");travelPackages.travelPackageForm.children("input[name=time2]").val("0");travelPackages.travelPackageForm.children("input[name=area1]").val(travelPackages.travelingFrom);},showRoomCarPackage:function(){travelPackages.travelPackageForm.find(".flight-option").hide();travelPackages.travelPackageForm.find(".car-option").show();travelPackages.travelPackageForm.children(".child-traveler").addClass("car-option-child-traveler");travelPackages.travelPackageForm.children("input[name=air1]").val("false");travelPackages.travelPackageForm.children("input[name=car1]").val("true");travelPackages.travelPackageForm.find(".hour-selection").trigger("change");travelPackages.travelPackageForm.children("input[name=area1]").val("");},showChildren:function(number){travelPackages.travelPackageForm.children(".child-traveler").each(function(){var child=$(this).children(".child:first");if($(this).data("child")<=number){if(!$(this).is(":visible")){$(this).show();child.val("1");}}else{$(this).hide();child.val("");}
travelPackages.handleChildAge(child);});},handleChildAge:function(child){var childSeating=child.siblings(".infant-options:first");if(child.val()=="1"){if(travelPackages.packageSelected=="flight"){childSeating.show();}
if(!childSeating.children(".seat-infant:first").prop("checked")){childSeating.children(".lap-infant:first").attr("checked",true);}}else{childSeating.hide();childSeating.children(".not-infant:first").attr("checked",true);}},validate:function(){var isFlight=(travelPackages.packageSelected=="flight");var goingFrom=$.trim(travelPackages.travelPackageForm.find("#travel-package-origin").val());var goingTo=$.trim(travelPackages.travelPackageForm.find("#travel-package-destination").val());var dateBegin=travelPackages.travelPackageForm.find("#travel-fromDate");var dateEnd=travelPackages.travelPackageForm.find("#travel-toDate");var numberOfRooms=travelPackages.travelPackageForm.find("#package-rooms").val();var numberOfAdults=travelPackages.travelPackageForm.find("#number-adults").val();var numberOfChildren=travelPackages.travelPackageForm.find("#number-children").val();var children=travelPackages.travelPackageForm.find(".child");var missingOrigin=travelPackages.travelPackageForm.siblings("#error-missing-origin").val();var missingDestination=travelPackages.travelPackageForm.siblings("#error-missing-destination").val();var needMoreRooms=travelPackages.travelPackageForm.siblings("#error-need-more-rooms").val();var needLessTravelers=travelPackages.travelPackageForm.siblings("#error-need-less-travelers").val();var missingAge=travelPackages.travelPackageForm.siblings("#error-missing-age").val();var errorMessages="";if(isFlight&&goingFrom==""){errorMessages+="<li>"+missingOrigin+"</li>";}
if(goingTo==""){errorMessages+="<li>"+missingDestination+"</li>";}
var copyText=1;if(!isFlight){copyText=2}
var dateMessage=dates.validateVacationPackageDates('availability',dateBegin.attr('id'),dateEnd.attr('id'),'',copyText);if(dateMessage!=""){errorMessages+="<li>"+dateMessage+"</li>";}
var totalTravelers=parseInt(numberOfAdults)+parseInt(numberOfChildren);if(totalTravelers>4){if(numberOfRooms==1){errorMessages+="<li>"+needMoreRooms+"</li>";}
if(totalTravelers>7){errorMessages+="<li>"+needLessTravelers+"</li>";}}
children.each(function(){if($(this).is(":visible")&&$(this).val()==""){errorMessages+="<li>"+missingAge+"</li>";return false;}});if(errorMessages!=""){travelPackages.travelPackageForm.after('<div id="travel-package-dialog"></div>');$.magnificPopup.open({mainClass:'m-modal t-modal-small',closeMarkup:'<span class="m-modal-close close-number-2 mfp-close">%title% <i class="icon-close"></i></span>',tClose:'close',items:{src:'#travel-package-dialog'},type:'inline'});closeButton=$('.is-modal-close');$("#travel-package-dialog").html("");$("#travel-package-dialog").html("<ul>"+errorMessages+"</ul>");$("#travel-package-dialog").prepend(closeButton);$('#travel-package-dialog .is-modal-close').removeClass('is-hidden');$(document).on('click','.t-close-button',function(e){e.preventDefault();$.magnificPopup.close();});return false;}
travelPackages.performReporting();return true;},performReporting:function(){var SCOn=$('#omniSiteTrackingOn');if(SCOn.length>0&&SCOn.val()=='true'){var title="Vacation Packages Form Submission";if(typeof swa!=="undefined"){swa.linkTrackEvents="";swa.linkTrackVars="eVar11";swa.eVar11="HWSPackageSearch:withDates";void(swa.tl(true,"o",title));}}}};var hwsSearchModule=hwsSearchModule||{hwsSearchModuleForm:$(".hws-reservations-form"),init:function(){var me=this;me.$corpCodeValue=me.hwsSearchModuleForm.find("#corp-code");me.$clusterCorpCode=me.hwsSearchModuleForm.find("#corp");me.$rewardPoints=me.hwsSearchModuleForm.find(".use-rewards-points");if(me.$rewardPoints.is(':checked')){me.$corpCodeValue.val('');}
if(typeof me.$corpCodeValue.val()!='undefined'&&me.$corpCodeValue.val()!==""){me.$clusterCorpCode.prop("checked",true);}}};guestRoomsResp={};$(function(){var $guestRoomCards=$("#guest-rooms-list li"),guestRoomsRespContainer=$('.guestRoomsResp');guestRoomsResp.loadedRooms=[];guestRoomsResp.selectedRoom={};if(guestRoomsRespContainer.length>0){guestRoomsResp.totalRoomCount=guestRoomsRespContainer.data('info').roomtypecount;}else{guestRoomsResp.totalRoomCount=0;}
function loadImages(){$guestRoomCards.each(function(){var image=$(this).find('img');if(typeof image.attr('src')=='undefined'){image.attr('src',image.data('src'));}});}
function toggleCards(x){if(x=='showAll'){$guestRoomCards.removeClass('is-hidden');$('.js-showAllRooms').addClass('is-hidden');$('.js-collapseRooms').removeClass('is-hidden');loadImages();}else{if(!$('.guestRoomsResp').data('expand')){$guestRoomCards.filter(function(){return $(this).data("roomloopcount")>"3";}).addClass('is-hidden');$('.js-collapseRooms').addClass('is-hidden');$('.js-showAllRooms').removeClass('is-hidden');}}}
if($('.guestRoomsResp').data('expand')){toggleCards('showAll');}else{toggleCards();}
$(document).on('click','.js-showAllRooms, .js-collapseRooms',function(e){e.preventDefault();if($(this).hasClass('js-showAllRooms')){toggleCards('showAll');}else{toggleCards();}});function showGuestRoomInfoBox(roomTypeCode,roomloopcount,selector){$('.guestRoomsResp > ul').addClass('m-room-resp-show-detail');$('.guestRoomsResp ul li').removeClass('selected');if(typeof selector==="undefined"){if(typeof roomloopcount==="undefined"){guestRoomsResp.selectedRoom.selector=$('#guest-rooms-list li[data-roomtypecode='+roomTypeCode+']');}else{guestRoomsResp.selectedRoom.selector=$('#guest-rooms-list li[data-roomloopcount='+roomloopcount+']');}}
guestRoomsResp.selectedRoom.roomTypeCode=guestRoomsResp.selectedRoom.selector.data('roomtypecode');guestRoomsResp.selectedRoom.roomLoopCount=guestRoomsResp.selectedRoom.selector.data('roomloopcount');guestRoomQuickViewResp.toggleQuickView(null,guestRoomsResp.selectedRoom.roomTypeCode);guestRoomsResp.selectedRoom.selector.addClass('selected');if(!guestRoomsResp.selectedRoom.selector.find('.l-group-actions').isOnScreen()){$('html, body').animate({scrollTop:guestRoomsResp.selectedRoom.selector.offset().top-100},20);}
$('.js-showAllRooms').trigger('click');if($.inArray(guestRoomsResp.selectedRoom.roomTypeCode,guestRoomsResp.loadedRooms)==-1){PhotoCarouselRemoteService.getRoomTypeSpecificPhotoGallery($('#property-marshaCode').val(),$('#site-locale').val(),guestRoomsResp.selectedRoom.roomTypeCode,{callback:function(data){var photos=$.map(data,function(photos){return photos;});var photoList=buildRoomPhotoList(photos);guestRoomsResp.selectedRoom.selector.find('.roomImageList > ul').html(photoList);guestRoomsResp.selectedRoom.selector.find('div.guestRoomImageContainer > img.js-viewDetails').attr('src').html(photoList);guestRoomsResp.selectedRoom.selector.find('div.guestRoomImageContainer.m-room-resp-info-expanded > img').attr('src');guestRoomsResp.selectedRoom.selector.find('.roomImageList img').first().trigger('click');guestRoomsResp.loadedRooms.push(guestRoomsResp.selectedRoom.roomTypeCode);},timeout:50000,errorHandler:function(message){}});}else{guestRoomsResp.selectedRoom.selector.find('.roomImageList img').first().trigger('click');guestRoomsResp.selectedRoom.photoCount=guestRoomsResp.selectedRoom.selector.find('.roomImageList img').length;}}
function closeGuestRoomInfoBox(context){if(guestRoomsResp.selectedRoom.roomLoopCount>3){toggleCards('showAll');}else{toggleCards();}
guestRoomsResp.selectedRoom.selector.removeClass('selected');guestRoomsResp.selectedRoom={};$('.guestRoomsResp > ul').removeClass('m-room-resp-show-detail');$('.guestRoomsResp > ul').removeClass('m-room-resp-show-detail-photo');}
function buildRoomPhotoList(photos){var photoList='',imageNum=0;var thumbnailImageresizeVal="&downsize=50px:50px";$.each(photos,function(index,photo){if(photo.fullImageFileFormat==='JPG'){photoList+="<li class='roomImagethumb'><img src='"+imgPath+photo.thumbnailImageFile+'?'+'interpolation=progressive-bilinear'+thumbnailImageresizeVal+"' data-imagenum='"+(++imageNum)+"' data-imginfo='"+JSON.stringify(photo).replace(/'/g,"&#39;")+"' data-mc='"+photo.shortMarketingCaption+"'></li>";}});guestRoomsResp.selectedRoom.photoCount=imageNum;return photoList;}
function updateImage(context,imageNum){guestRoomsResp.selectedRoom.currentImage=imageNum;if(guestRoomsResp.selectedRoom.currentImage==1){$('.guestRoomImageContainer > a.prev').addClass('is-hidden');}else{$('.guestRoomImageContainer > a.prev').removeClass('is-hidden');}
if(guestRoomsResp.selectedRoom.currentImage==guestRoomsResp.selectedRoom.photoCount){$('.guestRoomImageContainer > a.next').addClass('is-hidden');}else{$('.guestRoomImageContainer > a.next').removeClass('is-hidden');}
context.find('.roomImageList img[data-imagenum='+guestRoomsResp.selectedRoom.currentImage+']').addClass('selected');}
$.fn.isOnScreen=function(){var win=$(window);var viewport={top:win.scrollTop(),left:win.scrollLeft()};viewport.right=viewport.left+win.width();viewport.bottom=viewport.top+win.height();var bounds=this.offset();bounds.right=bounds.left+this.outerWidth();bounds.bottom=bounds.top+this.outerHeight();return(!(viewport.right<bounds.left||viewport.left>bounds.right||viewport.bottom<bounds.top||viewport.top>bounds.bottom));};$(document).on('click','.guestRoomsResp .js-viewDetails',function(e){e.preventDefault();guestRoomsResp.selectedRoom.selector=$(this).parents('li.guestRoomListItem');if(!guestRoomsResp.selectedRoom.selector.hasClass('selected')){guestRoomsResp.selectedRoom.roomTypeCode=guestRoomsResp.selectedRoom.selector.data('roomtypecode');showGuestRoomInfoBox(guestRoomsResp.selectedRoom.roomTypeCode,null,guestRoomsResp.selectedRoom.selector);if($(this).hasClass('js-viewPhotoGallery')){$('.guestRoomsResp > ul').addClass('m-room-resp-show-detail-photo');guestRoomsResp.selectedRoom.selector.find('.roomImageList img').first().trigger('click');}}});$(document).on('click','.full-screen-icon',function(e){e.preventDefault();$('.guestRoomsResp > ul').addClass('m-room-resp-show-detail-photo');guestRoomsResp.selectedRoom.selector.find('.roomImageList img').first().trigger('click');});$(document).on('click','.guestRoomsResp a.close-modal',function(e){e.preventDefault();closeGuestRoomInfoBox($(this));});$(document).on('click','.guestRoomIdentity a',function(e){e.preventDefault();var nextRoom=guestRoomsResp.selectedRoom.roomLoopCount;if($(this).attr('href')=='#next'){++nextRoom;}else{--nextRoom;}
if(nextRoom>guestRoomsResp.totalRoomCount){nextRoom=1;}else if(nextRoom===0){nextRoom=guestRoomsResp.totalRoomCount;}
showGuestRoomInfoBox(null,nextRoom);});$(document).on('click','.minimize-screen-icon, .js-guestRoomViewDetails',function(e){e.preventDefault();$('.guestRoomsResp > ul').removeClass('m-room-resp-show-detail-photo');});$(document).on('click','.roomImageList img',function(e){e.preventDefault();var resizethumbClickImgVal;if(Response.band(320,479)){resizethumbClickImgVal="400";}
else if(Response.band(480,559)){resizethumbClickImgVal="480";}
else if(Response.band(560,767)){resizethumbClickImgVal="610";}
else if(Response.band(768,959)){resizethumbClickImgVal="497";}
else{resizethumbClickImgVal="604";}
$('.roomImageList img').removeClass('selected');updateImage($(this).parents('li.guestRoomListItem'),parseInt($(this).data('imagenum')));guestRoomsResp.selectedRoom.selector.find('.guestRoomImageContainer img').attr('src',imgPath+$(this).data('imginfo').fullImageFile+'?'+'interpolation=progressive-bilinear&downsize='+resizethumbClickImgVal+'px:*');if($(this).data('imginfo').shortMarketingCaption){guestRoomsResp.selectedRoom.selector.find('.guestRoomImageContainer .t-photo-info').html($(this).data('imginfo').imageName);guestRoomsResp.selectedRoom.selector.find('.guestRoomImageContainer .js-shortMarketingCaption').html($(this).data('imginfo').shortMarketingCaption);}else{guestRoomsResp.selectedRoom.selector.find('.guestRoomTypeOverlay a.t-photo-info').addClass('is-hidden');}});$(document).on('click','.guestRoomImageContainer > a.next, .guestRoomImageContainer > a.prev',function(e){e.preventDefault();var nextImg=0;if($(this).hasClass('prev')){nextImg=-1;}else{nextImg=1;}
guestRoomsResp.selectedRoom.selector.find('.roomImageList img[data-imagenum='+parseInt(guestRoomsResp.selectedRoom.currentImage+nextImg)+']').trigger('click');});$(document).on('change','.check-in,.check-out',function(event){event.stopPropagation();var datepick=$(event.target).parents('.js-datepick-container'),otherDatePick=$('.js-datepick-container').not(datepick),checkIn=datepick.find('.js-date-from'),checkOut=datepick.find('.js-date-to'),checkInObj=checkIn.pickadate("picker"),checkOutObj=checkOut.pickadate("picker");otherDatePick.find('.check-in').each(function(i,o){var chk=$(o).pickadate("picker");if(chk!=null){$(o).val(checkIn.val());$(chk._hidden).val($(checkInObj._hidden).val());if(checkInObj.get('select')&&chk.get('select')){chk.get('select').obj=checkInObj.get('select').obj,chk.get('select').pick=checkInObj.get('select').pick;}
chk.set('min',checkInObj.get('min'))}});otherDatePick.find('.check-out').each(function(i,o){var chk=$(o).pickadate("picker");if(chk!=null){$(o).val(checkOut.val());$(chk._hidden).val($(checkOutObj._hidden).val());if(checkOutObj.get('select')&&chk.get('select')){chk.get('select').obj=checkOutObj.get('select').obj,chk.get('select').pick=checkOutObj.get('select').pick;}
chk.set('min',checkOutObj.get('min'))}});});$(document).on('change',"select[name*='numberOfRooms']",function(){$("select[name*='numberOfRooms']").val($(this).val());});$(document).on('change',"select[name*='numberOfGuests']",function(){$("select[name*='numberOfGuests']").val($(this).val());});$(document).on('click','.guestRoomTypeOverlay a',function(e){e.preventDefault();var toggleIcon=$('.guestRoomTypeOverlay a');if(toggleIcon.hasClass('is-collapsed')){toggleIcon.removeClass('is-collapsed');$('.js-shortMarketingCaption').addClass('l-display-block');}else{toggleIcon.addClass('is-collapsed');$('.js-shortMarketingCaption').removeClass('l-display-block');}});});var guestRoomQuickViewResp={fetchedQuickViews:Array,quickViewTabs:Array,init:function(){},getParentByClassName:function(obj,className){var obj_parent=obj.parentNode;if(!obj_parent){return false;}
if(obj_parent.className==className){return obj_parent;}else{return guestRoomQuickViewResp.getParentByClassName(obj_parent,className);}},toggleQuickView:function(target,roomtypecode){var propertyMarshaCode=document.getElementById("property-marshaCode").value;var quickViewRoomCode;var t=$(target).attr('id');if(roomtypecode){quickViewRoomCode=roomtypecode;}else{if($(target).attr('class')=="open-quick-view-heading"||$(target).attr('class')=="close-quick-view-heading"){quickViewRoomCode=t.substring(t.lastIndexOf('-')+1,t.length);}else{quickViewRoomCode=t.substring(t.lastIndexOf('-')+1,t.length);}}
var quickViewToShow="quick-view-"+quickViewRoomCode;var quickViewToggle="quick-view-toggle-"+quickViewRoomCode;var quickViewToggleHeading="quick-view-heading-"+quickViewRoomCode;var roomRecord="guest-room-record-"+quickViewRoomCode;var siteLocale=document.getElementById("site-locale").value;if($(target).attr('class')=="open-quick-view"||$(target).attr('class')=="open-quick-view-heading"||roomtypecode){$(roomRecord).addClass('active-record');if($(target).attr('class')=="open-quick-view"){$(target).removeClass('open-quick-view').addClass('close-quick-view');$(quickViewToggleHeading).removeClass('open-quick-view-heading').addClass('close-quick-view-heading');}else if($(target).attr('class')=="open-quick-view-heading"){$(target).removeClass('open-quick-view-heading').addClass('close-quick-view-heading');$(quickViewToggle).addClass('close-quick-view');var currentMainContainer=$(target).closest('.guest-room-container');}
if(!guestRoomQuickViewResp.fetchedQuickViews[quickViewRoomCode]){quickViewToShow.className=quickViewToShow.className+' loading';ReservationRemoteService.retrieveKORDetails(propertyMarshaCode,quickViewRoomCode,siteLocale,function(data){var isRoomOverviewAvailable=false;var isPhotoCarouselAvailable=false;if(data.korDataErrorMessages&&data.korDataErrorMessages.length>0){var noKORDataErrorMessage="";for(i=0;i<data.korDataErrorMessages.length;i++){if(i===0){noKORDataErrorMessage=noKORDataErrorMessage+data.korDataErrorMessages[i];}else{noKORDataErrorMessage=noKORDataErrorMessage+", "+data.korDataErrorMessages[i];}}
if(noKORDataErrorMessage!==""){$("#"+quickViewRoomCode+"-room-overview").html(noKORDataErrorMessage);}
$("#"+quickViewRoomCode+"-guest-amenities-tab").remove();$("#"+quickViewRoomCode+"-guest-media-tab").remove();}else{var roomOverviewText="";if(data.roomFeatureDetails.roomOverview&&data.roomFeatureDetails.roomOverview.featuresList.length>0){for(i=0;i<data.roomFeatureDetails.roomOverview.featuresList.length;i++){if(i===0){roomOverviewText=roomOverviewText+data.roomFeatureDetails.roomOverview.featuresList[i];}else{roomOverviewText=roomOverviewText+", "+data.roomFeatureDetails.roomOverview.featuresList[i];}}}
if(roomOverviewText!==""){isRoomOverviewAvailable=true;$("#"+quickViewRoomCode+"-room-overview").html('roomOverviewText '+roomOverviewText);}else{$(quickViewRoomCode+"-room-overview").addClass("hidden");}
guestRoomQuickViewResp.populateContent(quickViewRoomCode,isRoomOverviewAvailable,isPhotoCarouselAvailable,data.roomFeatureDetails.conciergeFeatures,data.roomFeatureDetails.roomFeaturesList);}
$(quickViewToShow).removeClass("loading");});guestRoomQuickViewResp.fetchedQuickViews[quickViewRoomCode]=true;}}else{if(this.className=="quick-view-hide"){document.getElementById(quickViewToggle).className="open-quick-view";document.getElementById(quickViewToggleHeading).className="open-quick-view-heading";}else if(this.className=="close-quick-view-heading"){this.className="open-quick-view-heading";document.getElementById(quickViewToggle).className="open-quick-view";guestRoomQuickViewResp.getParentByClassName(this,'guest-room-container');}else{this.className="open-quick-view";if(!roomtypecode){document.getElementById(quickViewToggleHeading).className="open-quick-view-heading";}}
if(!roomtypecode){setTimeout(function setIt(){document.getElementById(roomRecord).className="";},200);}}
return false;},populateContent:function(roomTypeCode,isRoomOverviewAvailable,isPhotoCarouselAvailable,specialFeatureList,otherFeatureList){var specialFeaturesInnerHtml="";var roomFeaturesInnerHtml="";var accessibleRoomFeaturesInnerHtml="";var hospitalityServiceFeaturesInnerHtml="";var roomOverviewFeatureContent="";var mainRoomOverFeatureContainer=document.getElementById(roomTypeCode+"-room-overview-tab-features");var bedsFeatureInnerHtml="";var bathFeatureInnerHtml="";var furnitureFeatureInnerHtml="";var foodFeatureInnerHtml="";var kitchenFeatureInnerHtml="";var roomAmenitiesFeatureContent="";var roomAmenitiesFeatureContainer=document.getElementById(roomTypeCode+"-guest-room-amenities-tab");var internetFeatureInnerHtml="";var entertainmentFeatureInnerHtml="";var inRoomMediaFeatureContent="";var inRoomMediaFeatureContainer=document.getElementById(roomTypeCode+"-guest-room-media-tab");var internetTiersHtml="";if(specialFeatureList&&specialFeatureList.featuresList.length>0){specialFeaturesInnerHtml=guestRoomQuickViewResp.populateFeatures(specialFeatureList);}
if(otherFeatureList&&otherFeatureList.length>0){for(i=0;i<otherFeatureList.length;i++){if(otherFeatureList[i]&&otherFeatureList[i].featureType==8){if(otherFeatureList[i].featuresList.length>0){roomFeaturesInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);}}
else if(otherFeatureList[i]&&otherFeatureList[i].featureType==12){if(otherFeatureList[i].featuresList.length>0){accessibleRoomFeaturesInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);}}
else if(otherFeatureList[i]&&otherFeatureList[i].featureType==10){if(otherFeatureList[i].featuresList.length>0){hospitalityServiceFeaturesInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);}}
else if(otherFeatureList[i]&&otherFeatureList[i].featureType==3){if(otherFeatureList[i].featuresList.length>0){bedsFeatureInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);}}
else if(otherFeatureList[i]&&otherFeatureList[i].featureType==4){if(otherFeatureList[i].featuresList.length>0){bathFeatureInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);}}
else if(otherFeatureList[i]&&otherFeatureList[i].featureType==5){if(otherFeatureList[i].featuresList.length>0){furnitureFeatureInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);}}
else if(otherFeatureList[i]&&otherFeatureList[i].featureType==6){if(otherFeatureList[i].featuresList.length>0){foodFeatureInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);}}
else if(otherFeatureList[i]&&otherFeatureList[i].featureType==7){if(otherFeatureList[i].featuresList.length>0){kitchenFeatureInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);}}
else if(otherFeatureList[i]&&otherFeatureList[i].featureType==9){var title="";var content="";var t1Msg="";internetTiersHtml="";if(otherFeatureList[i].highSpeedAccessVO){var highSpeedVO=otherFeatureList[i].highSpeedAccessVO;for(var property in highSpeedVO){var locationType=highSpeedVO[property].locationType;var numTiers=1;var selectService=document.getElementById("select-service").value;var wireless=highSpeedVO[property].wireless;var wired=highSpeedVO[property].wired;var countryCode=document.getElementById("country-code").value;var connection="";if(locationType&&locationType=="1"){if(countryCode=='US'){var tieredPricingVO=highSpeedVO[property].tieredPricingVO;var tieredPricing;numTiers=tieredPricingVO.length;if(numTiers==1||selectService=='true'){if(wireless===false&&wired===true){connection=document.getElementById("msgWired").value;}
if(wireless===true&&wired===false){connection=document.getElementById("msgWireless").value;}
if(wireless===true&&wired===true){connection=document.getElementById("msgWireless").value+document.getElementById("msgDelimited").value+" "+document.getElementById("msgWired").value;}
for(var s in tieredPricingVO){tieredPricing=tieredPricingVO[s];if(tieredPricing.tier=="1"){if(tieredPricing.feeCharged=="Y"){price=document.getElementById("msgTier1Price").value;currPrice=tieredPricing.fee+" "+tieredPricing.currency;pPos=price.indexOf("/");output=[price.slice(0,pPos),currPrice,price.slice(pPos)].join('');if(wireless===true&&wired===true){connection=document.getElementById("msgWireless").value+document.getElementById("msgDelimited").value+" "+document.getElementById("msgWired").value;}
content=connection+" "+output;}else{price="<em>"+document.getElementById("msgCompWireless").value+"</em>"
if(wired===true){price+=document.getElementById("msgDelimited").value+" "+document.getElementById("msgWired").value;}
content=price;}}}
var titleValue=document.getElementById("msgHiInternetAccess").value;title=$.trim(titleValue)+": ";internetTiersHtml="<li>"+title+content+"</li></ul></div>";internetFeatureInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);internetFeatureInnerHtml=internetFeatureInnerHtml.substring(internetFeatureInnerHtml.indexOf("<h4>"),internetFeatureInnerHtml.indexOf("</ul></div>"));internetFeatureInnerHtml+=internetTiersHtml;}else{if(wireless===false&&wired===true){connection=document.getElementById("msgWired").value;}
if(wireless===true&&wired===false){connection=document.getElementById("msgWireless").value;}
if(wireless===true&&wired===true){connection=document.getElementById("msgWireless").value+document.getElementById("msgDelimited").value+" "+document.getElementById("msgWired").value;}
for(var index in tieredPricingVO){tieredPricing=tieredPricingVO[index];if(tieredPricing.tier=="1"){if(tieredPricing.feeCharged=="Y"){title=document.getElementById("msgHiSpeed").value;price=document.getElementById("msgTier1Price").value;currPrice=tieredPricing.fee+" "+tieredPricing.currency;pPos=price.indexOf("/");output=[price.slice(0,pPos),currPrice,price.slice(pPos)].join('');content=document.getElementById("msgTier1Features").value+" "+output;}else{title=document.getElementById("msgCompHiSpeedAccess").value;content=document.getElementById("msgTier1Features").value;}
t1Msg="<li><em>"+title+" </em>"+content+"</li>";}else{if(tieredPricing.feeCharged=="Y"){title=document.getElementById("msgEnHiSpeed").value;price=document.getElementById("msgTier2Price").value;currPrice=tieredPricing.fee+" "+tieredPricing.currency;pPos=price.indexOf("/");output=[price.slice(0,pPos),currPrice,price.slice(pPos)].join('');content=document.getElementById("msgTier2Features").value+" "+output;}else{title=document.getElementById("msgCompEnHiSpeedAccess").value;content=document.getElementById("msgTier2Features").value;}
var accTitle=document.getElementById("msgInternetAccess").value;internetTiersHtml="<li>"+$.trim(accTitle)+": "+connection+"<ul>"+t1Msg+"<li><em>"+title+" </em>"+content+"</li></ul></li></ul></div>";internetFeatureInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);internetFeatureInnerHtml=internetFeatureInnerHtml.substring(internetFeatureInnerHtml.indexOf("<h4>"),internetFeatureInnerHtml.indexOf("</ul></div>"));internetFeatureInnerHtml+=internetTiersHtml;}}}}else{internetFeatureInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);}}}}}
else if(otherFeatureList[i]&&otherFeatureList[i].featureType==11){if(otherFeatureList[i].featuresList.length>0){entertainmentFeatureInnerHtml=guestRoomQuickViewResp.populateFeatures(otherFeatureList[i]);}}}}
var isRoomOverViewTabDeleted=false;roomOverviewFeatureContent=guestRoomQuickViewResp.populateFeatureColumn(new Array(specialFeaturesInnerHtml,roomFeaturesInnerHtml),new Array(accessibleRoomFeaturesInnerHtml,hospitalityServiceFeaturesInnerHtml));if(roomOverviewFeatureContent!==""&&roomOverviewFeatureContent.length>0){mainRoomOverFeatureContainer.innerHTML=roomOverviewFeatureContent;}else{if(!isRoomOverviewAvailable&&!isPhotoCarouselAvailable){var roomOverviewTab=guestRoomQuickViewResp.quickViewTabs["quick-view-"+roomTypeCode].getTab(0);isRoomOverViewTabDeleted=true;}}
var isAmenitiesTabDeleted=false;var roomCode=$("#quick-view-"+roomTypeCode);roomAmenitiesFeatureContent=guestRoomQuickViewResp.populateFeatureColumn(new Array(bedsFeatureInnerHtml,bathFeatureInnerHtml),new Array(furnitureFeatureInnerHtml,foodFeatureInnerHtml,kitchenFeatureInnerHtml));if(roomAmenitiesFeatureContent!==""&&roomAmenitiesFeatureContent.length>0){$(".room-amenities-ajax-load",roomCode).html(roomAmenitiesFeatureContent);}else{var roomAmenitiesTab;if(isRoomOverViewTabDeleted){roomAmenitiesTab=guestRoomQuickViewResp.quickViewTabs["quick-view-"+roomTypeCode].getTab(0);}else{roomAmenitiesTab=guestRoomQuickViewResp.quickViewTabs["quick-view-"+roomTypeCode].getTab(1);}
isAmenitiesTabDeleted=true;}
inRoomMediaFeatureContent=guestRoomQuickViewResp.populateFeatureColumn(new Array(internetFeatureInnerHtml),new Array(entertainmentFeatureInnerHtml));if(inRoomMediaFeatureContent!==""&&inRoomMediaFeatureContent.length>0){$(".inroom-media-ajax-load",roomCode).html(inRoomMediaFeatureContent);}else{var roomMediaTab;if(isRoomOverViewTabDeleted&&isAmenitiesTabDeleted){roomMediaTab=guestRoomQuickViewResp.quickViewTabs["quick-view-"+roomTypeCode].getTab(0);}else if(isRoomOverViewTabDeleted||isAmenitiesTabDeleted){roomMediaTab=guestRoomQuickViewResp.quickViewTabs["quick-view-"+roomTypeCode].getTab(1);}else if(1==3){roomMediaTab=guestRoomQuickViewResp.quickViewTabs["quick-view-"+roomTypeCode].getTab(2);}}},populateFeatureColumn:function(column1,column2){var tabContent="";if(column1.length>0){var column1Text="";for(a=0;a<column1.length;a++){column1Text=column1Text+column1[a];}
if(column1Text!==""){tabContent=tabContent+"<div class='column l-half-column'>"+column1Text+"</div>";}}
if(column2.length>0){var column2Text="";for(j=0;j<column2.length;j++){column2Text=column2Text+column2[j];}
if(column2Text!==""){tabContent=tabContent+"<div class='column l-half-column'>"+column2Text+"</div><div class='clearfix'></div>";}}
return tabContent;},populateFeatures:function(featureList){var featureInnerHtml="";if(featureList.featuresList.length>0){featureInnerHtml=featureInnerHtml+"<div class='sub-content'><h5>"+featureList.featureName+"</h5>";featureInnerHtml=featureInnerHtml+"<ul class='guest-room cs-custom-list'>";for(j=0;j<featureList.featuresList.length;j++){featureInnerHtml=featureInnerHtml+"<li>"+featureList.featuresList[j]+"</li>";}
featureInnerHtml=featureInnerHtml+"</ul></div>";}
return featureInnerHtml;}};function clearAirportDetails()
{sform=document.forms['drivingDirectionsForm'];sform.originAirportCode.value="";sform.originAirport.selectedIndex=0;document.getElementById("address-type").value="street";}
function state_clearAirportDetails()
{sform=document.forms['drivingDirectionsForm'];sform.originAirportCode.value="";sform.originAirport.selectedIndex=0;if(sform.originState.value!=null&&sform.originState.value.length>0)
{sform.originCountry.value="US";}
document.getElementById("address-type").value="street";}
function country_clearAirportDetails()
{sform=document.forms['drivingDirectionsForm'];sform.originAirportCode.value="";sform.originAirport.selectedIndex=0;if(sform.originCountry.value!=null&&sform.originCountry.value!="US")
{sform.originState.value="";}
document.getElementById("address-type").value="street";}
function clearAddress()
{sform=document.forms['drivingDirectionsForm'];sform.originAddress.value="";sform.originCity.value="";sform.originState.selectedIndex=0;sform.originCountry.selectedIndex=0;sform.originZip.value="";document.getElementById("address-type").value="airport";}
function changeAirportDetail(sel)
{sform=document.forms['drivingDirectionsForm'];if(sel.type=="text")
{csel=sform.originAirport;for(i=0;i<csel.length;i++)
{if(csel.options[i].value==sel.value)
{csel.selectedIndex=i;break;}}}
else
{if(sel.options[sel.selectedIndex].value.length==3)
{sform.originAirportCode.value=sel.options[sel.selectedIndex].value;}}
clearAddress();}
var dates=function(){var messageResources=new Object();return{init:function(){if($('#calendar-error-mesg').data('options')){var calendarErrorMsgs=$('#calendar-error-mesg').data('options');messageResources.missingCheckInDate=calendarErrorMsgs.missingCheckInDateMsg;messageResources.missingCheckOutDate=calendarErrorMsgs.missingCheckOutDateMsg;messageResources.invalidCheckInDate=calendarErrorMsgs.invalidCheckInDateMsg;messageResources.invalidCheckOutDate=calendarErrorMsgs.invalidCheckOutDateMsg;messageResources.pastCheckInDate=calendarErrorMsgs.pastCheckInDateMsg;messageResources.pastCheckOutDate=calendarErrorMsgs.pastCheckOutDateMsg;messageResources.futureCheckInDate=calendarErrorMsgs.futureCheckInDateMsg;messageResources.futureCheckOutDate=calendarErrorMsgs.futureCheckOutDateMsg;messageResources.checkOutDateBeforeCheckInDate=calendarErrorMsgs.checkOutDateBeforeCheckInDateMsg;messageResources.missingDepartureDate=calendarErrorMsgs.missingDepartureDateMsg;messageResources.missingReturnDate=calendarErrorMsgs.missingReturnDateMsg;messageResources.invalidDepartureDate=calendarErrorMsgs.invalidDepartureDateMsg;messageResources.invalidReturnDate=calendarErrorMsgs.invalidReturnDateMsg;messageResources.pastDepartureDate=calendarErrorMsgs.pastDepartureDateMsg;messageResources.pastReturnDate=calendarErrorMsgs.pastReturnDateMsg;messageResources.futureDepartureDate=calendarErrorMsgs.futureDepartureDateMsg;messageResources.futureReturnDate=calendarErrorMsgs.futureReturnDateMsg;messageResources.returnDateBeforeDepartureDate=calendarErrorMsgs.returnDateBeforeDepartureDateMsg;}},validateDates:function(section,fromDtFldNm,toDtFldNm,formIdx){var section=section;var fromDateFldName="fromDate";var toDateFldName="toDate";var fromDateObj=null;var toDateObj=null;var formIndex=formIdx+'';var dateFormatPattern=$(':hidden[name=dateFormatPattern]').val().toLowerCase();if(fromDtFldNm!=null&&fromDtFldNm.length>0){if(formIndex!=null&&formIndex.length>0){fromDateFldName=fromDtFldNm+formIndex;}else{fromDateFldName=fromDtFldNm;}}
if(toDtFldNm!=null&&toDtFldNm.length>0){if(formIndex!=null&&formIndex.length>0){toDateFldName=toDtFldNm+formIndex;}else{toDateFldName=toDtFldNm;}}
fromDateObj=$("name=["+fromDateFldName+"]").get(0);toDateObj=$("name=["+toDateFldName+"]").get(0);var jqMinDate=$(':hidden[name=minDate]');var minDate=jqMinDate.eq(jqMinDate.length-1).val();var jqMaxDate=$(':hidden[name=maxDate]');var maxDate=jqMaxDate.eq(jqMaxDate.length-1).val();var fromDate='';var toDate='';var errMessage="";if(fromDateObj!=null){fromDate=fromDateObj.value;if(section=="availability"||section=="futureRates"){if(fromDate==null||fromDate==''){errMessage=messageResources.missingCheckInDate;alert(errMessage);fromDateObj.focus();return false;}}
if(fromDate!=null&&fromDate.length>0){if(!isDateValid(fromDate,dateFormatPattern))
{errMessage=messageResources.invalidCheckInDate;alert(errMessage);fromDateObj.focus();return false;}
if(isDateLessThanDate1(fromDateObj.value,formatDate(minDate,dateFormatPattern),dateFormatPattern)){errMessage=messageResources.pastCheckInDate;errMessage=errMessage.replace("minDate",formatDate(minDate,dateFormatPattern))
alert(errMessage);fromDateObj.focus();return false;}
if(isDateGreaterThanDate1(fromDateObj.value,formatDate(maxDate,dateFormatPattern),dateFormatPattern)){errMessage=messageResources.futureCheckInDate;errMessage=errMessage.replace("maxDate",formatDate(maxDate,dateFormatPattern))
alert(errMessage);fromDateObj.focus();return false;}
if(section!="availability"){if(toDateObj!=null&&(toDateObj.value==null||toDateObj.value=="")){errMessage=messageResources.missingCheckOutDate;alert(errMessage);toDateObj.focus();return false;}}}}
if(section!="futureRates"){if(toDateObj!=null){toDate=toDateObj.value;if(section=="availability"){if(toDate==null||toDate==''){errMessage=messageResources.missingCheckOutDate;alert(errMessage);toDateObj.focus();return false;}}
if(toDate!=null&&toDate.length>0){if(!isDateValid(toDate,dateFormatPattern))
{errMessage=messageResources.invalidCheckOutDate;alert(errMessage);toDateObj.focus();return false;}
if(isDateLessThanDate1(toDateObj.value,datePlusOne(minDate,dateFormatPattern),dateFormatPattern)){errMessage=messageResources.pastCheckOutDate;errMessage=errMessage.replace("minDate",datePlusOne(minDate,dateFormatPattern))
alert(errMessage);toDateObj.focus();return false;}
if(isDateGreaterThanDate1(toDateObj.value,formatDate(maxDate,dateFormatPattern),dateFormatPattern)){errMessage=messageResources.futureCheckOutDate;errMessage=errMessage.replace("maxDate",formatDate(maxDate,dateFormatPattern))
alert(errMessage);toDateObj.focus();return false;}
if(section!="availability"){if(fromDateObj!=null&&(fromDateObj.value==null||fromDateObj.value=="")){errMessage=messageResources.missingCheckInDate;alert(errMessage);fromDateObj.focus();return false;}}}}
if((fromDateObj!=null&&(fromDateObj.value!=null&&fromDateObj.value!=""))&&(toDateObj!=null&&(toDateObj.value!=null&&toDateObj.value!=""))){if(isDateLessThanOrEqualToDate1(toDateObj.value,fromDateObj.value,dateFormatPattern))
{errMessage=messageResources.checkOutDateBeforeCheckInDate;alert(errMessage);toDateObj.focus();return false;}}}
return true;},validateVacationPackageDates:function(section,fromDtFldNm,toDtFldNm,formIdx,cpy){var section=section;var fromDateFldName="fromDate";var toDateFldName="toDate";var fromDateObj=null;var toDateObj=null;var formIndex=formIdx+'';var copy=cpy;var dateFormatPattern=$(':hidden[name=dateFormatPattern]').val().toLowerCase();if(fromDtFldNm!=null&&fromDtFldNm.length>0){if(formIndex!=null&&formIndex.length>0){fromDateFldName=fromDtFldNm+formIndex;}else{fromDateFldName=fromDtFldNm;}}
if(toDtFldNm!=null&&toDtFldNm.length>0){if(formIndex!=null&&formIndex.length>0){toDateFldName=toDtFldNm+formIndex;}else{toDateFldName=toDtFldNm;}}
fromDateObj=$("name=["+fromDateFldName+"]").get(0);toDateObj=$("name=["+toDateFldName+"]").get(0);var jqMinDate=$(':hidden[name=minDate]');var minDate=jqMinDate.eq(jqMinDate.length-1).val();var jqMaxDate=$(':hidden[name=maxDate]');var maxDate=jqMaxDate.eq(jqMaxDate.length-1).val();var fromDate='';var toDate='';var errMessage="";if(fromDateObj!=null){fromDate=fromDateObj.value;if(section=="availability"||section=="futureRates"){if(fromDate==null||fromDate==''){errMessage=messageResources.missingDepartureDate;if(copy==2){errMessage=messageResources.missingCheckInDate;}
return errMessage;}}
if(fromDate!=null&&fromDate.length>0){if(!isDateValid(fromDate,dateFormatPattern))
{errMessage=messageResources.invalidDepartureDate;if(copy==2){errMessage=messageResources.invalidCheckInDate;}
return errMessage;}
if(isDateLessThanDate1(fromDateObj.value,formatDate(minDate,dateFormatPattern),dateFormatPattern)){errMessage=messageResources.pastDepartureDate;if(copy==2){errMessage=messageResources.pastCheckInDate;}
errMessage=errMessage.replace("minDate",formatDate(minDate,dateFormatPattern));return errMessage;}
if(isDateGreaterThanDate1(fromDateObj.value,formatDate(maxDate,dateFormatPattern),dateFormatPattern)){errMessage=messageResources.futureDepartureDate;if(copy==2){errMessage=messageResources.futureCheckInDate;}
errMessage=errMessage.replace("maxDate",formatDate(maxDate,dateFormatPattern));return errMessage;}
if(section!="availability"){if(toDateObj!=null&&(toDateObj.value==null||toDateObj.value=="")){errMessage=messageResources.missingReturnDate;if(copy==2){errMessage=messageResources.missingCheckOutDate;}
return errMessage;}}}}
if(section!="futureRates"){if(toDateObj!=null){toDate=toDateObj.value;if(section=="availability"){if(toDate==null||toDate==''){errMessage=messageResources.missingReturnDate;if(copy==2){errMessage=messageResources.missingCheckOutDate;}
return errMessage;}}
if(toDate!=null&&toDate.length>0){if(!isDateValid(toDate,dateFormatPattern))
{errMessage=messageResources.invalidReturnDate;if(copy==2){errMessage=messageResources.invalidCheckOutDate;}
return errMessage;}
if(isDateLessThanDate1(toDateObj.value,datePlusOne(minDate,dateFormatPattern),dateFormatPattern)){errMessage=messageResources.pastReturnDate;if(copy==2){errMessage=messageResources.pastCheckOutDate;}
errMessage=errMessage.replace("minDate",datePlusOne(minDate,dateFormatPattern));return errMessage;}
if(isDateGreaterThanDate1(toDateObj.value,formatDate(maxDate,dateFormatPattern),dateFormatPattern)){errMessage=messageResources.futureReturnDate;if(copy==2){errMessage=messageResources.futureCheckOutDate;}
errMessage=errMessage.replace("maxDate",formatDate(maxDate,dateFormatPattern));return errMessage;}
if(section!="availability"){if(fromDateObj!=null&&(fromDateObj.value==null||fromDateObj.value=="")){errMessage=messageResources.missingDepartureDate;if(copy==2){errMessage=messageResources.missingCheckInDate;}
return errMessage;}}}}
if((fromDateObj!=null&&(fromDateObj.value!=null&&fromDateObj.value!=""))&&(toDateObj!=null&&(toDateObj.value!=null&&toDateObj.value!=""))){if(isDateLessThanOrEqualToDate1(toDateObj.value,fromDateObj.value,dateFormatPattern))
{errMessage=messageResources.returnDateBeforeDepartureDate;if(copy==2){errMessage=messageResources.checkOutDateBeforeCheckInDate;}
return errMessage;}}}
return errMessage;},validateEandMDates:function(form,fromDtFldNm,toDtFldNm){var fromDateObj=null;var toDateObj=null;var dateFormatPattern=$(':hidden[name=dateFormatPattern]').val().toLowerCase();alert(dateFormatPattern);fromDateObj=$(form).find(':input[name='+fromDtFldNm+']')[0];toDateObj=$(form).find(':input[name='+toDtFldNm+']')[0];var minDate=$(form).find(':hidden[name=minDate]').val();var maxDate=$(form).find(':hidden[name=maxDate]').val();var fromDate='';var toDate='';var errMessage="";var checkedEventOption=$(form).find(':radio[name=eventOptionsRadio]:checked');if(fromDateObj!=null&&(fromDateObj.value!=null&&fromDateObj.value!="")){fromDate=fromDateObj.value;if(!isDateValid(fromDate,dateFormatPattern))
{errMessage="Your arrival date is invalid. Verify your date.";alert(errMessage);return false;}
if(isDateEqualsCurrentDate(fromDate,dateFormatPattern)&&!($(checkedEventOption).val()=='spaceOnly')){errMessage="For same-day bookings, please contact the hotel directly or call our National Group Desk directly at 1800-831-4004.";alert(errMessage);return false;}
if(isDateLessThanDate1(fromDate,formatDate(minDate,dateFormatPattern),dateFormatPattern)){errMessage="Your arrival date occur in the past. Verify your dates";alert(errMessage);return false;}
if(isDateGreaterThanDate1(fromDate,formatDate(maxDate,dateFormatPattern),dateFormatPattern)){errMessage="Your arrival date cannot be more than "+maxDate+". Please try earlier dates.";alert(errMessage);return false;}
if(toDateObj.value==null||toDateObj.value==''){errMessage="Please enter a departure date.";alert(errMessage);return false;}}
if(toDateObj!=null&&(toDateObj.value!=null&&toDateObj.value!="")){toDate=toDateObj.value;if(!isDateValid(toDate,dateFormatPattern))
{errMessage="Your departure date is invalid. Verify your date.";alert(errMessage);return false;}
if(isDateLessThanDate1(toDate,datePlusOne(minDate,dateFormatPattern),dateFormatPattern)){errMessage="Your departure date occurs in the past. Verify your date. ";alert(errMessage);return false;}
if(isDateGreaterThanDate1(toDate,formatDate(maxDate,dateFormatPattern),dateFormatPattern)){errMessage="Your departure date cannot be more than "+maxDate+". Please try earlier dates.";alert(errMessage);return false;}
if(fromDateObj.value==null||fromDateObj.value==''){errMessage="Please enter an arrival date";alert(errMessage);return false;}}
if((fromDateObj!=null&&(fromDateObj.value!=null&&fromDateObj.value!=""))&&(toDateObj!=null&&(toDateObj.value!=null&&toDateObj.value!=""))){if(isDateEqualsDate1(fromDateObj.value,toDateObj.value,dateFormatPattern)&&!($(checkedEventOption).val()=='spaceOnly'))
{errMessage="For same-day bookings, please contact the hotel directly or call our National Group Desk directly at 1800-831-4004. "
alert(errMessage);return false;}else if(isDateGreaterThanDate1(fromDateObj.value,toDateObj.value,dateFormatPattern))
{alert("Please enter a departure date that is after your arrival date");return false;}
var daysDiff=calculateNoOfNights(new Date(fromDateObj.value),new Date(toDateObj.value));if(daysDiff>10)
{alert("For events lasting more than 10 nights, please contact our National Group Desk directly at 1-800-831-4004.");return false;}}
return true;},calculateNoOfNights:function(checkInDate,checkOutDate)
{var daysDifference=0;if(checkInDate!=null&&checkOutDate!=null)
{var difference=checkOutDate.getTime()-checkInDate.getTime();daysDifference=Math.floor(difference/1000/60/60/24);}
return daysDifference;}};}();function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){oldonload();func();}}}
addLoadEvent(dates.init);$(function(){if($('body').hasClass('lite')||$('body').hasClass('eInterface')){liteSiteExclusive();}
var $groupBookingForm=$('form.group-booking-meeting-space'),$hwsQGSearch=$('#hws-qg-search'),$groupBookingFieldVal;if($groupBookingForm.length>0){if(!$(":checkbox[name=roomsOnlySelected]",$groupBookingForm).is(':checked'))
{$(':input:text[name=roomCount]',$groupBookingForm).val('');}
if(!$(":checkbox[name=roomsAndEventSelected]",$groupBookingForm).is(':checked'))
{$('div#meeting-room :input:text',$groupBookingForm).val('');}
$groupBookingForm.on({"click change":findMeetingSpaceComponent.meetingsPrefRadioButtonEventHandler},':radio[name="eventOptionsRadio"]',null);$groupBookingForm.on({'click change':findMeetingSpaceComponent.meetingsPrefCheckButtonEventHandler});$groupBookingForm.on({"submit":findMeetingSpaceComponent.meetingsSubmitEventHandler},null,null);}
if($hwsQGSearch.length>0){$('#eventRoomsOnly-InCity').attr('checked','checked');$('#roomCount-InCity-1').focus();}
var collapsableListContainer=$('.collapseList');var collapsableList=$('.collapseList li');var collapseText=collapsableListContainer.data('options');var begincollapsable=$('.beginCollapse');if(collapsableListContainer.find('li').length>4){collapsableListContainer.after('<a id="read-more-list" href="#" class="t-collapseList-close">'+collapseText.more+'</a>');$(".collapseList li:nth-child(3)").addClass("beginCollapse");$("li.beginCollapse").nextAll().addClass("is-hidden");var readMoreList=$('#read-more-list');readMoreList.bind('click',function(){collapsableListContainer.toggleClass('collapsed');readMoreList.toggleClass('open');if(collapsableListContainer.hasClass('collapsed')){readMoreList.html(collapseText.less);$("li.beginCollapse").nextAll().removeClass("is-hidden");}else{readMoreList.html(collapseText.more);$("li.beginCollapse").nextAll().addClass("is-hidden");}
return false;});}
$("li#phone-num-container a.phone-number").keyup(function(event)
{if(event.keyCode==13)
{$("a.phone-number span").click();}});$(document).ready(function(){if(!$(body).hasClass("lite")){if($("#m-primaryNav-container li a").hasClass('active-link')==false){$("#m-primaryNav-container li.l-homepageLink a").addClass('active-link');}}
$('.js-responsive-drawer').each(function(){$(this).drawer({breakpoints:[$(this).data('drawer-breakpoint')]});});});$('.js-show-more').click(function(){if($('#m-primaryNav-container').hasClass('is-show-more')){$('#m-primaryNav-container').removeClass('is-show-more');$('#m-primaryNav-container span.js-show-more').removeClass('icon-drawer-close').addClass('icon-drawer-open');}else{$('#m-primaryNav-container').addClass('is-show-more');$('#m-primaryNav-container span.js-show-more').removeClass('icon-drawer-open').addClass('icon-drawer-close');}
if($('#m-primaryNav-container li').hasClass('l-hideGroupLink')){$('#m-primaryNav-container li.l-hideGroupLink').removeClass('is-toggle-list');}else{$('#m-primaryNav-container li.l-showNavLink').addClass('is-toggle-list');}});$('body').click(function(e){var phonecbx=(e.target.parentNode.className).split(' ')[0];var addlist=($(e.target).parents()).hasClass("phone-numbers");if(phonecbx!="phone-number"&&!addlist){$(".phone-numbers").addClass('is-hidden');}});function getParameterByName(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "));}
if(window.location.href.indexOf("hotel-deals")>-1){$('.hws-article-linklist').appendTo('.specialPackages').find('h5').hide();}
var closeText=(typeof msgResources.closeText!='undefined')?msgResources.closeText:'Close';var body=$('body'),resp=$('#page-container').data('responsive'),z1=$('.l-zone-1'),z2=$('.l-zone-2'),z3=$('.l-zone-3'),hwsContentWrapper=$('#content-wrapper'),resForm=$('#hws-reservation-module'),resFormPkg=$('#travel-packages-container');var imageCarousel=$('.image-carousel');var stickyNavTop=$('.t-header').height()+60;var stickyNav=function(){var scrollTop=$(window).scrollTop();var $brandNavPlaceHolder=$('.l-brand-nav-placeholder');if(scrollTop>stickyNavTop&&((Response.band(768,2800)))){$('.m-brand-bar').addClass('m-stickyBrandBar');$('#m-primaryNav-container').addClass('m-stickyNavBar');if($('.is-float-form-below-sticky').length<=0){$(z1).addClass('is-float-form-below-sticky');$(body).addClass('hws-sticky-active');$(resForm).addClass('contentScrollBar');}
if($brandNavPlaceHolder.length){$brandNavPlaceHolder.removeClass('l-display-none');}}else{$('.m-brand-bar').removeClass('m-stickyBrandBar');$('#m-primaryNav-container').removeClass('m-stickyNavBar');$(z1).removeClass('is-float-form-below-sticky');$(body).removeClass('hws-sticky-active');if($brandNavPlaceHolder.length){$brandNavPlaceHolder.addClass('l-display-none');}}};stickyNav();$(window).scroll(function(){stickyNav();});if($('#hws').hasClass('off-canvas-js-body')){$('.m-check-rates-form-close').removeClass('is-hidden');}else{$('.m-check-rates-form-close').addClass('is-hidden');}
function checkRatesPanel(w){if(w=='show'){$(z1).addClass('m-check-rates-off-canvas');$(body).addClass('off-canvas-js-body');if(Response.band(0,768)){$(body).addClass('is-hws-off-canvas');}
if(Response.band(768,2800)&&($('.m-stickyBrandBar').length>0)){$(z1).addClass('is-float-form-below-sticky');$(body).addClass('hws-sticky-active');}
$('.m-check-rates-form-close').removeClass('is-hidden');$(hwsContentWrapper).before(z1);$(hwsContentWrapper).addClass('off-canvas-js');$('.res-toggle-container').hide();$('.m-booking-button').addClass('m-booking-button-close is-hidden').removeClass('m-booking-button')
$('.m-check-rates-form-close').removeClass('is-hidden');}else{$('#m-check-rates-form-container').prepend(z1);$(z1).removeClass('m-check-rates-off-canvas');$(hwsContentWrapper).removeClass('off-canvas-js');$(body).removeClass('is-hws-off-canvas off-canvas-js-body');$(z1).removeClass('is-float-form-below-sticky');}}
$('.m-booking-button').bind("click",function(e){e.preventDefault();checkRatesPanel('show');});$('.m-check-rates-form-close').bind("click",function(e){checkRatesPanel('hide');$('.m-booking-button-close').addClass('m-booking-button').removeClass('m-booking-button-close is-hidden')});$('a.view-rate-btn').on('click',function(e){var checkInDate=getParameterByName('checkInDate'),checkOutDate=getParameterByName('checkOutDate'),marshaCode=$("input[name=propertyCode]").val(),step1b='/reservation/availabilitySearch.mi?isSearch=false&propertyCode='+marshaCode+'&fromDate='+checkInDate+'&toDate='+checkOutDate;if(checkInDate.length>0&&checkOutDate.length>0&marshaCode.length>0){window.location=step1b;return false;}});$('.hotel-factsheet-link-container').html('');$(z2).find('[data-r1024]').parent().addClass('is-cursor-pointer').on('click',function(e){var photoGalleryLink=$("#photo-gallery-link a"),photoGalleryAnalyticData=photoGalleryLink.data("analytics"),originalDataAnalyticLocation="",originalDataAnalyticCustomData="";if(typeof photoGalleryAnalyticData!=="undefined"){originalDataAnalyticLocation=photoGalleryAnalyticData.location;originalDataAnalyticCustomData=photoGalleryAnalyticData.customData;}
photoGalleryLink.data("analytics",'{"customData":"'+originalDataAnalyticCustomData+'","uri":"HWS","location":"body","description":"Photo Gallery"}');if($(this).hasClass('is-cursor-pointer')){photoGalleryLink.trigger("click");}
if(typeof originalDataAnalyticLocation!=="undefined"&&originalDataAnalyticLocation!=""){photoGalleryLink.data("analytics",'{"customData":"'+originalDataAnalyticCustomData+'","uri":"HWS","location":"'+originalDataAnalyticLocation+'","description":"Photo Gallery"}');}});$.fn.responsiveAccordion=function(options){var defaults={singleOpen:true,clickableException:''};options=$.extend(defaults,options);$(this).each(function(){var triggerDepth=$(this).find('.accordion-trigger:first').parents().length;$(this).find('.accordion-trigger').each(function(){thisDepth=$(this).parents().length;if(thisDepth==triggerDepth){$(this).siblings().wrap('<div class="accordion-content"/>');var linkTrigger=$(this).find('a');if(linkTrigger.length){$(this).wrapInner('<div class="accordion-trigger-link" style="cursor:pointer"/>');}else{$(this).wrapInner('<a href="#" class="accordion-trigger-link"/>');}}});if($(this).find('accordion-icon').length<=0){var triggerLink=$(this).find('.accordion-trigger-link');$(triggerLink).each(function(){$('<span class="accordion-icon"></span>').prependTo(this);});}
$(this).find(options.clickableException).on('click',function(e){e.stopPropagation();});var ac=$('.accordion-content');$(this).find(ac).hide().attr('aria-hidden','true');$(this).find('.expanded').find(ac).show().attr('aria-hidden','false');$(this).find('.accordion-trigger-link').parent().on('click',function(e){if(options.singleOpen){if($(this).parent().hasClass('expanded')){$(this).parent().removeClass('expanded');$(this).siblings(ac).slideUp().attr('aria-hidden','true');}else{$(this).closest('.accordion-wrapper').find(ac).slideUp().attr('aria-hidden','true');$(this).closest('.accordion-wrapper').find('.expanded').removeClass('expanded');$(this).siblings(ac).slideDown(300,function(){$(this).parent().addClass('expanded');$(this).siblings(ac).attr('aria-hidden','false');});}}else{if($(this).parent().hasClass('expanded')){$(this).parent().removeClass('expanded');$(this).siblings(ac).slideUp().attr('aria-hidden','true');}else{$(this).siblings(ac).slideDown().attr('aria-hidden','false');$(this).parent().addClass('expanded');}}
e.preventDefault();});});};$.fn.destroy=function(){$(this).find('.accordion-trigger-link').parent().off();$(this).find('.accordion-icon').remove();$(this).find('.accordion-trigger').siblings('.accordion-content').contents().unwrap();$(this).find('.accordion-trigger-link').contents().unwrap();};$.fn.responsiveTabs=function(){var $active,$content,$links=$(this).find('a');$(this).find('a').removeClass('active');$active=$($links.filter('[href="'+location.hash+'"]')[0]||$links[0]);$active.addClass('active');$content=$($active.attr('href'));$links.not($active).each(function(){$($(this).attr('href')).hide();});$(this).on('click','.etabs a',function(e){$active.removeClass('active');$content.hide();$active=$(this);$content=$($(this).attr('href'));$active.addClass('active');$content.show();e.preventDefault();});};$.fn.tabsToAccordion=function(options){$(this).off();$(this).addClass('accordion-wrapper');$(this).find('*').show();$(this).find('.etabs').hide();$(this).responsiveAccordion(options);};$.fn.accordionToTabs=function(options){$(this).destroy();$(this).find('.accordion-trigger').hide();$('.etabs').show();$(this).responsiveTabs();};$.fn.activatetoggle=function(){if($('.t-toggle-link').parent().find('.keyfact')){}else{$('.t-toggle-link').removeClass('open');}
$(this).each(function(){$(this).find('.t-toggle-link').removeClass('activate-toggle');$(this).find('.t-toggle-link').addClass("activate-toggle");$(this).find(".t-toggle-container").each(function(){if($(this).hasClass('open-by-default')){$(this).parent().find('.t-toggle-link').addClass('open');if($("#driving-result-header").length){$("#driving-result-header").prepend($("#start"));$("#driving-result-header #end").addClass("l-result-border");}}else{$(this).parent().find('.t-toggle-link').removeClass('open');}});$(this).find('.toggle').not('.open-by-default').removeClass('open');$(this).find('.t-toggle-container').not('.open-by-default').css('display','none');$(this).off('click','.t-toggle-link').on('click','.t-toggle-link',function(e){e.preventDefault();$(this).toggleClass("open");$(this).parents(".toggle:first").find(".t-toggle-container:first").slideToggle();});});};$.fn.activateCheckRoomTab=function(){$(".quick-view-container").each(function(index){if($(this).hasClass('guest-rooms-list-content')){$(this).find('.m-responsive-tabs-container').responsiveTabs();}});};$.fn.activateCheckRoomTabToToggle=function(){$(".quick-view-container").each(function(index){if($(this).hasClass('guest-rooms-list-content')){$('.m-responsive-tabs-container').each(function(){var accordionTriggerLink=$(this).find('.accordion-trigger-link').length;if(accordionTriggerLink<=0){$(this).tabsToAccordion({singleOpen:false});}});}});};$.fn.activateCheckRoomToggleToTab=function(){$(".quick-view-container").each(function(index){if($(this).hasClass('guest-rooms-list-content')){$('.m-responsive-tabs-container').each(function(i){var accordionTriggerLink=$(this).find('.accordion-trigger-link').length;if(accordionTriggerLink>=0){$(this).accordionToTabs();}});}});};$.fn.deactivatetoggle=function(){$(this).find('.t-toggle-container').show();$(this).find('.t-toggle-link').removeClass('activate-toggle');};$.fn.wrapfactsheet=function(){$('.facts-container').first().parent().parent().addClass('accordion-wrapper').attr('id','factsheet-Accordion');};$.fn.wrapmapstransportation=function(){$('#area-airports').parent().parent().parent().addClass('accordion-wrapper').attr('id','maps-transportation-Accordion');};$.fn.wrapForAccordion=function(selector){var selectorType='id',selectorPrefx='#';if(selector.indexOf('#')===-1){selectorType='class';selectorPrefix='.';}
$(selector).addClass('accordion-wrapper').attr('id',selector.split(selectorPrefix)[1]+'-Accordion');};if($(".tabs-container")){$(".tabs-container").tabs();}
if($(".sub-tabs-container")){$(".sub-tabs-container").tabs();}
$(".tabs-container .tab-headings").show();$(".tabs-container .tab-main-headings").addClass('alternate-headings');$(".tab-headings li:last-child").css("margin-right",0);if($(".homepage #property-description").length){var propDescr=$('#property-description');if(propDescr.length>0&&propDescr.height()>'90'){var toggleText=propDescr.data('options');propDescr.addClass('collapsed').after('<a id="read-more" href="#" class="t-toggle-link-text">'+toggleText.more+'</a>');var readMore=$('#read-more');readMore.bind('click',function(){propDescr.toggleClass('collapsed');if(readMore.hasClass('open')){readMore.html(toggleText.more).removeClass('open');}else{readMore.html(toggleText.less).addClass('open');}
return false;});}}
var columnList=$('.two-column-list');var twoColumnArea=$('.zone-section.two-column-50-50').find('ul.two-column-list');if(columnList.length>0){var colWidthPercentage='45%';if(twoColumnArea.length>0){colWidthPercentage='45%';}
columnList.makeacolumnlists({cols:2,colWidth:colWidthPercentage});}
$('.li_container').find('.two-column-list').attr('style','').addClass('l-half-column');var savingColumnList=$('.two-columnSavingDiscount-list');var twoSavingColumnArea=$('.zone-section.two-column-50-50').find('ul.two-columnSavingDiscount-list');if(savingColumnList.length>0){var colWidthPercentage='45%';if(twoSavingColumnArea.length>0){colWidthPercentage='45%';}
savingColumnList.makeacolumnlists({cols:2,colWidth:colWidthPercentage});}
$('.li_container').find('.two-columnSavingDiscount-list').attr('style','').addClass('l-halfSavingDiscount-column');if($('#m-above-property-message-caruosel').length){$(function(){$('#m-above-property-message-caruosel').carouFredSel({width:null,height:76,pagination:{anchorBuilder:function(nr){return'<a href="#"><span>'+nr+'</span></a>';},container:'#m-above-property-message-carousel-indicator'},auto:true,items:{visible:1},mousewheel:true,swipe:{onMouse:true,onTouch:true},scroll:{fx:"fade"}});});}
var playPause=$('#above-property-message-container .m-carousel-playPause');$(playPause).on('click',function(){if($(this).hasClass('m-carousel-pause')){$(playPause).addClass('m-carousel-play');$(playPause).removeClass('m-carousel-pause');$("#m-above-property-message-caruosel").trigger("pause",true);}else{$(playPause).addClass('m-carousel-pause');$(playPause).removeClass('m-carousel-play');$("#m-above-property-message-caruosel").trigger("play");}});if($('#m-above-property-message-caruosel').find('.above-property-message').length<2){$('.m-carousel-playPause').addClass('is-hidden');$("#m-above-property-message-caruosel").trigger("pause",true);}else{$('.m-carousel-playPause').removeClass('is-hidden');}
$(function(){try{$('.hws-mi-popover').magnificPopup({mainClass:'m-modal t-modal-med',type:'ajax',ajax:{settings:{dataType:'html'}},closeMarkup:'<div class="m-modal-utilities"><button class="m-modal-close mfp-close">%title% <i class="icon-close"></i></button></div>',tClose:closeText,callbacks:{close:function(){$(".l-zone-3 #m-above-property-message-caruosel").trigger("play",true);$('.l-zone-3 .m-carousel-playPause').removeClass('m-carousel-play').addClass('m-carousel-pause');},parseAjax:function(mfpResponse){var frag=$(mfpResponse.data).find('#layout-body-container, .js-popover');mfpResponse.data=frag;},updateStatus:function(data){if(data.status==='ready'){var triggerSrc=$($.magnificPopup.instance.currItem.el[0]);var currentSlide=triggerSrc.data("currentoption")-1;if($("#above-property-message-container").parent().hasClass("mfp-content")){$(".above-property-message-details").first().parent().addClass('m-reload-carousel-modal');}
$(function(){$('.m-reload-carousel-modal').carouFredSel({auto:false,width:null,height:null,pagination:"#m-above-property-message-carousel-indicator",items:{visible:1,start:currentSlide},mousewheel:true,swipe:{onMouse:true,onTouch:true},scroll:{fx:"fade"},onCreate:function(){$(".m-carousel-wrapper",".mfp-content").addClass('is-hidden');$('.mfp-content .m-carousel-playPause').addClass('is-hidden');}});});$(".l-zone-3 #m-above-property-message-caruosel").trigger("pause",true);$(".m-carousel-wrapper",".mfp-content").removeClass('is-hidden');$('.m-carousel-playPause').removeClass('m-carousel-pause').addClass('m-carousel-play');}}}});$(document).on('click','.mfp-close .icon-close',function(e){var closeText=msgResources.closeText||'Close';tClose:closeText,e.preventDefault();$.magnificPopup.close();});}catch(err){}});var currentSlide;$('.above-property-message').on('click',function(e){$("#m-above-property-message-caruosel").trigger("pause",true);currentSlide=$('#m-above-property-message-caruosel').triggerHandler("currentPosition");});$("#street-address").find(".map-location").change(function(){if($("#street-address").find("#map-start").attr('checked')=="checked"){$("#isDirectionFromProperty").val("true");}else{$("#isDirectionFromProperty").val("false");}});$("#airport-code").find(".map-location").change(function(){if($("#airport-code").find("#map-start").attr('checked')=="checked"){$("#isDirectionFromProperty").val("true");}else{$("#isDirectionFromProperty").val("false");}});if($("#isDirectionFromProperty").val()=='true'){$("#map-start").attr("checked","checked");}
if($("#address-type").val()=="airport"){$("#airportcode").trigger('click');}
$("#street-address #origin-address, #street-address  #origin-city,#street-address  #origin-zip").change(function(){clearAirportDetails();});$("#street-address #origin-state").change(function(){state_clearAirportDetails();});$("#street-address #origin-country").change(function(){country_clearAirportDetails();});$("#origin-airport, #origin-airport-code").change(function(){changeAirportDetail(this);});$('#airport-code select#origin-airport option').each(function(){var thisVal=$(this).val();if(!(thisVal.indexOf('null'))){$(this).attr('disabled','disabled');}});function popOverBuilder(el){var $el=$(el);var closeText=msgResources.closeText||'Close';var loadingText=msgResources.loadingText||'Loading...';var mainClassStyles='m-modal t-modal-med';var pageURL=$el.attr('href').replace(/ /g,'%20')+" #page-container";if(pageURL.match(/internationalmodal/)){mainClassStyles='m-modal t-modal-lang';}else if(pageURL.match(/viewRoomPool/)){mainClassStyles='m-modal t-modal-room-info';}
var options=$.extend({},$el.data('mfpOptions'),{mainClass:mainClassStyles,type:'ajax',ajax:{settings:{dataType:'html'}},closeMarkup:'<div class="m-modal-utilities">'+'<button class="m-modal-close mfp-close">%title% <i class="icon icon-close"></i></button>'+'</div>',tClose:closeText,tLoading:loadingText,callbacks:{beforeOpen:function(){this.container.attr('aria-live','assertive');},parseAjax:function(mfpResponse){var frag=$(mfpResponse.data).find('#layout-body-container, .js-popover');mfpResponse.data=frag;}}});$el.magnificPopup(options);}
if(typeof resp!='undefined'){if(typeof Response!='undefined'){Response.ready(function(){Response.create([{prop:"width",prefix:"r",breakpoints:[0,320,480,672,768,872,1024,1400],lazy:false},{prop:"height",breakpoints:[0,800,28000]}]);checkBand();Response.crossover(function(){checkBand();},"width");function checkBand(){if(Response.band(0,2800)){if($('#hws').hasClass('ie8')){$('#photos .toggle .l-m-col-2:nth-child(3n+4)').css({clear:'left'});}
$('#photo-gallery-container .expand-all').click(function(){$('#photos').find('.gallery-photos-link').end().find('.gallery-photos').slideDown();$('.gallery-photos-link').addClass('open');return false;});$('#photo-gallery-container .collapse-all').click(function(){$('#photos').find('.gallery-photos-link').end().find('.gallery-photos').slideUp();$('.gallery-photos-link').removeClass('open');return false;});$("#photo-tour-container #view-all-photos a").click(function(){if($(this).hasClass('in-lightbox')){return false;}
var url=$(this).attr('href');viewAllPhotos(url);});if($('#videos').length>0){$("#photos .toggle:nth-child(4)").addClass("default-photos");$('.default-photos').prevAll().find('.gallery-photos-link, .gallery-photos').addClass('open-by-default');}
else if($('#photos').children().length<4){$("#photos .toggle").addClass("default-photos");$('.default-photos').find('.gallery-photos-link, .gallery-photos').addClass('open-by-default');}
else{$("#photos .toggle:nth-child(3)").addClass("default-photos");$('.default-photos').prevAll().find('.gallery-photos-link, .gallery-photos').addClass('open-by-default');}
$(".gallery-photos").not('.open-by-default').css('display','none');$(".toggle .open").not('.open-by-default').each(function(){$(this).removeClass("open");});$('.js-photo-gallery.js-video').on('focus',function(e){$(this).addClass('js-video-clicked');});if(!$(body).hasClass("lite")){$(z3).wrapfactsheet();$(z3).wrapmapstransportation();}
if($('#guest-rooms-list').find('.accordion-trigger-link').length<=0){$('#guest-rooms-list').responsiveAccordion({clickableException:'.button-submit, .open-quick-view-heading'});}
if($('#factsheet-Accordion').find('.accordion-trigger-link').length<=0){$('#factsheet-Accordion').activatetoggle();}
if($('#photos').find('.accordion-trigger-link').length<=0){$('#photos').activatetoggle();}
$.fn.scrollView=function(){return this.each(function(){$('html, body').animate({scrollTop:$(this).offset().top},1000);});};var acccsbltyLink=window.location.hash;if(acccsbltyLink=="#accessbility"&&$('.accordion-wrapper').length){$('.accessibility .t-toggle-link').addClass('open');$('.accessibility .t-toggle-container').show();$('.accessibility').scrollView();}
var directionsLink=window.location.hash;if(directionsLink=="#directions"&&$('#driving-container').length){$('#driving-container').scrollView();}
var parkingLink=window.location.hash;if(parkingLink=="#parking"&&$('#property-parking').length){$('#property-parking').scrollView();}
if($('#guest-room-accordion').find('.accordion-trigger-link').length<=0){$('#guest-room-accordion').responsiveAccordion();}
if($(".driving-directions").length){$(".driving-directions").activatetoggle();}
if($('.related-documents.m-roomPageDrawerLinks, .related-links.m-roomPageDrawerLinks').find('.accordion-trigger-link').length<=0){$('.related-documents.m-roomPageDrawerLinks, .related-links.m-roomPageDrawerLinks').responsiveAccordion();}
$('#floor-capacity-label').click(function(){if($(window).scrollTop()==0){$('html, body').animate({scrollTop:$('#m-floorplan-capacity').offset().top-110},1000);}else{$('html, body').animate({scrollTop:$('#m-floorplan-capacity').offset().top},1000);}});$('#floor-capacity-label-container').insertAfter('#featured-section');$('.js-image-carousel-modal').magnificPopup({mainClass:'m-modal t-modal-large t-modal-image-carousel',type:'ajax',ajax:{settings:{dataType:'html'}},callbacks:{parseAjax:function(mfpResponse){var imgIndex=$.magnificPopup.instance.index+1;var imgPathSrc=$.magnificPopup.instance.currItem.el[0].src;var imgPath=imgPathSrc.replace('resize=300px:*','');var hotelAddress=$('#m-floor-plan-headers').html();var resizeVal;if(Response.band(320,479)){resizeVal="480";}
else if(Response.band(480,671)){resizeVal="672";}
else if(Response.band(672,767)){resizeVal="768";}
else if(Response.band(768,871)){resizeVal="768";}
else{resizeVal="900";}
mfpResponse.data="<div id='m-modal-content'><div class='l-padding-half m-floorplan-hotel-address'>"+hotelAddress+"</div><p class='m-floorplan-image l-margin-top'><img src="+imgPath+"resize="+resizeVal+"px:* ></p></div>";}},closeMarkup:'<div class="m-modal-utilities"><button class="m-modal-print js-print-floorplan">'+modalConfig.printText+' <i class="icon icon-print"></i></button><span class="m-modal-close mfp-close">%title% <i class="icon-close"></i></span></div>',tClose:closeText});$('#standard-offers, #rewards-member-offers').activatetoggle();}
if((Response.band(0,671))&&($(resp)!==false&&Modernizr.mq('only all')!==false)){if($('.keyfact').find('.l-half-column').find('.toggle')){$('.keyfact').addClass("removeToggleClass")
var removeToggle=$('.removeToggleClass')
if($(removeToggle).find('.l-half-column').find('h4.t-toggle-link').length<=0){$('.removeToggleClass .l-half-column .toggle').find('h4').addClass('t-toggle-link');}}
if($(".property-data-container").find("#area-airports")){$(".property-data-container").parent().removeClass("l-margin-double-bottom");}
if($('#hws-map').length){$('#hws-map').parent(':not(.t-reslink-map)').css('display','block');}
if($('#maps-transportation-Accordion').find('.accordion-trigger-link').length<=0){$('#maps-transportation-Accordion').responsiveAccordion();}
if($('.related-documents, .related-links').find('.accordion-trigger-link').length<=0){$('.related-documents, .related-links').responsiveAccordion();}
if($('#standard-offers').find('.accordion-trigger-link').length<=0){$('#standard-offers').responsiveAccordion();}
if($('#rewards-member-offers').find('.accordion-trigger-link').length<=0){$('#rewards-member-offers').responsiveAccordion();}
if(imageCarousel.length>0){imageCarousel.find('img:not(:first)').addClass('is-hidden');$('#expand-images').click(function(){imageCarousel.slideDown();imageCarousel.find('img').removeClass('is-hidden');return false;});$('#collapse-images').click(function(){imageCarousel.find('img:not(:first)').addClass('is-hidden');return false;});}}
if(Response.band(0,863)){var carosel=$('.l-zone-2 .block-1 div');if($('#m-hpControls-indicator').length){$('#m-hpControls-indicator').css('display','none');$('#m-hpControls-pause').css('display','none');$('.l-zone-2 .block-1 div > img').css('display','block');}
if($(carosel).hasClass('carouselCreated')){$(carosel).removeClass('carouselCreated');}
if($('#hp-banner').length&&$('#hp-banner').css('display')=='block'){$('.l-zone-2 .block-1 div > img').css('display','none');}
if($('#hp-banner').length<1){$('.l-zone-2 .block-1 div > img').css('display','block');}}
if((Response.band(0,863))&&($(resp)!==false&&Modernizr.mq('only all')!==false)){$(z3).prepend($("#weekend-rates"));if($(z3).find('#weekend-rates')){thisrate=$('#weekend-rates').length;}}
if(Response.band(672,2800)){if($(".property-data-container").find("#area-airports")){$(".property-data-container").parent().addClass("l-margin-double-bottom");}
if($('.keyfact').find('.l-half-column').find('.toggle')){$('.keyfact').addClass("removeToggleClass")
var removeToggle=$('.removeToggleClass')
if($(removeToggle).find('.l-half-column').find('h4.t-toggle-link').length>1){$('.removeToggleClass .l-half-column .toggle').find('h4').removeClass('t-toggle-link');}}
if($('#hws-map').length){$('#hws-map').parent(':not(.t-reslink-map)').css('display','block');}
$(".open .t-toggle-container").slideDown();$('#maps-transportation-Accordion').destroy();if($('.m-roomPageDrawerLinks').length<=0){$('.related-documents, .related-links').destroy();}
$('#standard-offers').destroy();$('.keyfact').deactivatetoggle();$('#standard-offers, #rewards-member-offers').activatetoggle();if(imageCarousel.length>0){imageCarousel.find('img').removeClass('is-hidden');}}
$('.is-loading-spinner').remove();if(Response.band(1024,2800)){function hpHeroCreate(height){var bleed=$('.l-zone-2 .block-1 div').hasClass('imgBleed'),cWidth=bleed?1200:1024,imgRotate=$('#hp-banner');height=550;$(imgRotate).carouFredSel({width:cWidth,height:height,items:{visible:1},auto:true,mousewheel:true,swipe:{onMouse:true,onTouch:true},pagination:{anchorBuilder:function(nr){return'<a href="#"><span>'+nr+'</span></a>';},container:'#m-hpControls-indicator'},scroll:{fx:"crossfade",duration:1000,onBefore:function(){var $heroWrap=$(this).closest('.block-1');$(this).trigger("currentPosition",function(pos){if(pos+1===4){$heroWrap.removeClass('is-cursor-pointer');}else if(!$heroWrap.hasClass('is-cursor-pointer')){$heroWrap.addClass('is-cursor-pointer');}});}},onCreate:function(){$('.l-zone-2 .block-1 div > img').css('display','none');$('#m-hpControls-indicator').css('display','block');$('#m-hpControls-pause').css('display','block');$(imgRotate).css('display','block');$(imgRotate).parent().css('position','relative');$(imgRotate).find('img:not(.is-cursor-default)').addClass('is-cursor-pointer');var carWrap=$('.l-zone-2 .block-1 .caroufredsel_wrapper');var w='1024px';var left='';if(bleed===true){w='1200px';left='5.75px';var $fourthImg=$(this).find('li:nth-child(4) img');var fourthImgUrl=$fourthImg.attr('src');if(fourthImgUrl){var new_src=fourthImgUrl.substring(0,fourthImgUrl.length-4);new_src+="_1200";new_src+=fourthImgUrl.substring(fourthImgUrl.length-4,fourthImgUrl.length);$fourthImg.attr('src',new_src);}}
if(height==360){left='41px';}
$(imgRotate).css('width',w);$(carWrap).css('marginLeft',left);$('.l-zone-2 .block-1').addClass('carouselCreated');}});}
if($(body).hasClass('homepage')&&!$(body).hasClass('eInterface')){if($('.l-zone-2 .block-1').hasClass('carouselCreated')){$('.l-zone-2 .block-1').removeClass('carouselCreated');}
var imgDiv=$('.l-zone-2 .block-1 div');var imgRotate,hpPlay,hpPause;$(imgDiv).bind('DOMNodeInserted',function(event){$(imgDiv).unbind('DOMNodeInserted');if($('#hp-banner').length<1){if($('#extraHeroImgURL')&&$('#extraHeroImg').val()=="true"){var fourthImg=true;}
if($('#m-hpControls-indicator').length===0){$('<div id="m-hpControls-indicator" class="m-fredCaroul-dot is-hidden"></div><span id="m-hpControls-pause" class="m-carousel-playPause m-carousel-pause is-hidden"></span>').appendTo('.l-zone-2 .layout-13');}
$('<ul id="hp-banner"></ul>').appendTo($('.l-zone-2 .block-1 div'));imgRotate=$('#hp-banner');hpPlay=$('#m-hpControls-indicator');hpPause=$('#m-hpControls-pause');$(hpPause).on('click',function(){if($(this).hasClass('m-carousel-pause')){$(this).addClass('m-carousel-play').removeClass('m-carousel-pause');$(imgRotate).trigger("pause",true);}else{$(this).addClass('m-carousel-pause').removeClass('m-carousel-play');$(imgRotate).trigger("play");}});var bleed=$('.l-zone-2 .block-1 div').hasClass('imgBleed');var count=0;var img0=$(imgDiv).attr('data-r1024');var img1=img0.replace("main01","main02");var img2=img0.replace("main01","main03");if(fourthImg){$extraHeroImg=$('#extraHeroImgURL').val();var img3='<img '+$extraHeroImg+' class="is-cursor-default m-bookDirectImage" />';var imgs=[img0,img1,img2,img3];}else{var imgs=[img0,img1,img2];}
var img;if(!$('.l-zone-2 .block-1').hasClass('carouselCreated')){for(var prop in imgs){img=$(imgs[prop]).load(function(){if(!this.complete||typeof this.naturalWidth=="undefined"||this.naturalWidth==0){}else{$(imgRotate).append('<li>'+imgs[count]+'</li>');count++;if(count>=3){if(Response.band(1024,2800)&&Response.wave(800.1,28000)){hpHeroCreate(550);}else{hpHeroCreate(360);}}else{$('.l-zone-2 .block-1 div > img').css('display','none');}}});}}}});}}
if(Response.band(864,1024)){hpHeroCreate(360);}}});}}
var blockContent;var zoneContent;$('.js-hws-component-block').each(function(){blockContent=$.trim($(this).html());if(blockContent==""){$(this).hide();}});$('.js-zone-section').each(function(){zoneContent=$.trim($(this).html());if($(this).children(':visible').length==0||zoneContent==""){$(this).hide();}});$(document).on('click','.js-print-floorplan',function(e){var thePopup=window.open('',"PrintWindow",'height=auto,width=auto,location=yes,scrollbars=yes,menubars=no,toolbars=no,resizable=no');var tmp=thePopup.document;tmp.write($(".m-floorplan-hotel-address").html());tmp.write($(".m-floorplan-image").html());tmp.close();thePopup.print();thePopup.close();return false;});$('.room-setup-modal').magnificPopup({mainClass:'m-modal t-modal-large',type:'ajax',ajax:{settings:{dataType:'html'}},callbacks:{parseAjax:function(mfpResponse){mfpResponse.data=$(mfpResponse.data).find('.m-room-detail');}},closeMarkup:'<div class="m-modal-utilities"><span class="m-modal-close mfp-close">%title% <i class="icon-close"></i></span></div>',tClose:closeText});$('.mi-popover-map-full-screen').magnificPopup({mainClass:'m-modal t-modal-large t-modal-full-screen',items:{src:'.HWMAP #hws-map #map',type:'inline'},callbacks:{close:function(){$('.HWMAP #hws-map #map').removeClass('mfp-hide');}},closeMarkup:'<div class="m-modal-utilities m-modal-close-margin-top"><span class="m-modal-close mfp-close">%title% <i class="icon-close"></i></span></div>',tClose:closeText});});$(document).off('click',".analytics-click-hws, .analytics-click-multi-hws",function(e){if(!$(this).hasClass("analytics-clicked")){analytics.dynamicAnalytics($(this),e);if(!$(this).hasClass('analytics-click-multi-hws')){$(this).addClass('analytics-clicked');}}});$(document).on('click',".analytics-click-hws, .analytics-click-multi-hws",function(e){if(!$(this).hasClass("analytics-clicked")){if(analytics){analytics.dynamicAnalytics($(this),e);if(!$(this).hasClass('analytics-click-multi-hws')){$(this).addClass('analytics-clicked');}}}});function liteSiteExclusive(){var closeText=(typeof msgResources.closeText!='undefined')?msgResources.closeText:'Close';$('.mi-popover-maps').magnificPopup({mainClass:'t-modal-full-screen',type:'iframe',closeMarkup:'<div class="m-modal-utilities"><span class="m-modal-close mfp-close">%title% <i class="icon-close"></i></span></div>',tClose:closeText,});$('.js-reviewsModal').magnificPopup({mainClass:'t-modal-full-screen',type:'iframe',closeMarkup:'<div class="m-modal-utilities"><span class="m-modal-close mfp-close">%title% <i class="icon-close"></i></span></div>',tClose:closeText,});liteSiteNavContainer=$('.hws-in-page-nav');var $hwsPageNav=$(liteSiteNavContainer);if($hwsPageNav.length>0){$hwsPageNav.inPageNavigation({sectionTopOffset:-65,});var $brandBar=$('.m-brand-bar');$('<div>').addClass('l-brand-nav-placeholder l-display-none').height($brandBar.height()).insertBefore($brandBar);if($(window).scrollTop()<=150){$('.l-homeLink a').addClass('t-highlighted-link');}}
var hRewardsModule={$signinBtn:$('.js-signin-btn a'),$anonymousForm:$('.js-anonymous-form'),$cancelLink:$('.js-cancel-link'),$rewardsBar:$('.js-rewards-bar'),init:function(){hRewardsModule.$signinBtn.click(function(e){e.preventDefault();hRewardsModule.$rewardsBar.slideUp(500,function(){$(this).addClass('is-hidden');});hRewardsModule.$anonymousForm.slideUp(500,function(){$(this).removeClass('is-hidden');});});hRewardsModule.$cancelLink.click(function(e){e.preventDefault();hRewardsModule.$anonymousForm.slideDown(500,function(){$(this).addClass('is-hidden');});hRewardsModule.$rewardsBar.slideDown(500,function(){$(this).removeClass('is-hidden');});});}}
if($('#homepage-rewards-bar').length>0){hRewardsModule.init();}
$('.js-responsive-drawer-rewards').drawer({breakpoints:['M-and-below']});var diningList=$('.m-diningComponent-wrap');var hiddenDiningList=$('.hideDiningDefault');var diningOptionText=diningList.data('options');var nearbyList=$('.m-diningComponentNearby-wrap');var hiddenNearbyList=$('.hideNearbyDefault');var nearbyOptionText=nearbyList.data('options');if(diningList.find('.hideDiningDefault').length){diningList.after('<a id="moreDining" href="#" class="bold" >'+diningOptionText.more+'</a>');$(hiddenDiningList).addClass("is-hidden").removeClass("clearfix");var moreDiningList=$('#moreDining');moreDiningList.bind('click',function(){diningList.toggleClass('collapsed');moreDiningList.toggleClass('open');if(diningList.hasClass('collapsed')){moreDiningList.html(diningOptionText.less);$(hiddenDiningList).removeClass("is-hidden").addClass("clearfix");}else{moreDiningList.html(diningOptionText.more);$(hiddenDiningList).addClass("is-hidden").removeClass("clearfix");}
return false;});}
if(nearbyList.find('.hideNearbyDefault').length){nearbyList.after('<a id="moreNearby" href="#" class="bold" >'+nearbyOptionText.more+'</a>');$(hiddenNearbyList).addClass("is-hidden").removeClass("clearfix");var moreNearbyList=$('#moreNearby');moreNearbyList.bind('click',function(){nearbyList.toggleClass('collapsed');moreNearbyList.toggleClass('open');if(nearbyList.hasClass('collapsed')){moreNearbyList.html(nearbyOptionText.less);$(hiddenNearbyList).removeClass("is-hidden").addClass("clearfix");}else{moreNearbyList.html(nearbyOptionText.more);$(hiddenNearbyList).addClass("is-hidden").removeClass("clearfix");}
return false;});}}
$(function(){$('.hws-newDatePicker').each(function(index,form){var hwsForms=new Aries.Components.SearchForm({el:form,features:{dates:null}});})
var travelDates=$('#travel-fromDate').pickadate("picker"),threeDaysAfterToday=new Date();if(travelDates){travelDates.set('min',3);if(travelDates.get('select')&&travelDates.get('select').obj<threeDaysAfterToday.setDate(threeDaysAfterToday.getDate()+3)){travelDates.set('select',3);}}});$(function(){$(".bt-ad-placement-iframe").adaraHws();});$(function(){if($("#HWSHotelReviewsDataOptions").length>0){var $brandBarSelector=$('#HWSHotelReviewsBrandBar'),$bodyElementSelector=$('.BVReviewContainer'),$reviewsDataOptions=$('#HWSHotelReviewsDataOptions'),HWSReviews=(function($brandBarSelector,$bodyElementSelector){jQuery.support.cors=true;return{BVopts:function(){return $reviewsDataOptions.data('options');},populateBrandBarReviews:function(d){if(!d.HasErrors){this.statObject=d.Results[0].ProductStatistics.NativeReviewStatistics;this.AverageOverallRating=Math.max(Math.round(this.statObject.AverageOverallRating*10)/10).toFixed(1);var AverageOverallRatingArray=this.AverageOverallRating.split('.'),AverageOverallRatingCircles='',partialCircleSet=false;for(i=0;i<this.statObject.OverallRatingRange;i++){if(i<AverageOverallRatingArray[0]){AverageOverallRatingCircles+='<span class="tmpCircle reviewFull"></span>';}else if(!partialCircleSet){AverageOverallRatingCircles+='<span class="tmpCircle review-'+AverageOverallRatingArray[1]+'"></span>';partialCircleSet=true;}else{AverageOverallRatingCircles+='<span class="tmpCircle review-0"></span>';}}
$($brandBarSelector).find('div:nth-child(1)').html(AverageOverallRatingCircles);var reviewsText=HWSReviews.BVopts().reviewsText;var reviewsBasedOnText=HWSReviews.BVopts().reviewsBasedOnText;$($brandBarSelector).find('div:nth-child(2)').html(reviewsBasedOnText+this.statObject.TotalReviewCount+' '+reviewsText);$brandBarSelector.show();}},populatePageLevelReviews:function(){$BV.configure('global',{});$BV.ui('rr','show_reviews',{productId:HWSReviews.BVopts().marsha,onEvent:function(json){if(json.eventSource==='Display'){HWSReviews.isSpinnerDestroy();$bodyElementSelector.show();}}});},loadBrandBarReviews:function(){if($('.l-bazaarVoice-container').length){this.isSpinnerLoading();}
$.ajax({url:'//'+HWSReviews.BVopts().BVAPIURL+'statistics.json',timeout:10000,crossDomain:true,data:{PassKey:HWSReviews.BVopts().BVAPIKey,ApiVersion:HWSReviews.BVopts().BVAPIVersion,filter:'productid:'+HWSReviews.BVopts().marsha,stats:'NativeReviews'},dataType:'JSON',success:function(d){HWSReviews.populateBrandBarReviews(d);},error:function(){HWSReviews.BVError();}});},loadPageLevelReviews:function(){$.ajax({url:'//'+HWSReviews.BVopts().BVEndpointURL,timeout:10000,dataType:'script',crossDomain:true,success:function(){HWSReviews.populatePageLevelReviews();},error:function(){HWSReviews.BVError();}});},isSpinnerLoading:function(){$('<div class="is-loading-spinner"></div>').appendTo('.l-bazaarVoice-container');},isSpinnerDestroy:function(){$('.is-loading-spinner').remove();$('.l-bazaarVoice-container').css({'height':'auto'});},BVError:function(){$('#BVRRContainer').html('<p class="t-informational-msg l-padding-half l-margin-bottom-half">'+this.BVopts().unavailableMsg+'</p>');this.isSpinnerDestroy();$bodyElementSelector.show();},loadExternalReviews:function(){this.loadBrandBarReviews();this.loadPageLevelReviews();},loadExternalPageReviews:function(){this.loadPageLevelReviews();}};}($brandBarSelector,$bodyElementSelector));if($brandBarSelector.length){HWSReviews.loadExternalReviews();}
if(!$brandBarSelector.length&&$bodyElementSelector){HWSReviews.loadExternalPageReviews();}}});